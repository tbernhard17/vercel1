import{r as e,j as t,R as s}from"./react-vendor-Bjmm3TQb.js";import{e as a,L as r,f as i,g as n,h as l,I as o,i as c,O as d,j as u,k as m,l as h,m as p,n as x,o as f,p as g,q as j,r as v,s as b,t as y,u as w,v as N,w as k,x as S,y as C,z as E,H as R,B as F,E as T,F as O,G as A,J as _,K as L,M as z,N as P,Q as U,U as D,W as B,X as V,Y as I,Z as M,_ as q,$,a0 as H,a1 as W,a2 as G,a3 as J,a4 as K,a5 as Q,a6 as X,a7 as Y,a8 as Z,a9 as ee,aa as te,ab as se,ac as ae,ad as re,ae as ie,af as ne,ag as le,ah as oe,ai as ce,aj as de,ak as ue,al as me}from"./radix-vendor-D4Vu8pH4.js";import{C as he,a as pe,X as xe,d as fe,I as ge,e as je,V as ve,f as be,M as ye,S as we,g as Ne,h as ke,E as Se,i as Ce,k as Ee,l as Re,m as Fe,n as Te,o as Oe,B as Ae,W as _e,F as Le,p as ze,q as Pe,L as Ue,r as De,s as Be,u as Ve,v as Ie,w as Me,U as qe,H as $e,x as He,y as We,D as Ge,z as Je,P as Ke,A as Qe,G as Xe,J as Ye,K as Ze,N as et,O as tt,Q as st}from"./ui-utils-vendor-DfznwCci.js";import{c as at,t as rt,T as it,a as nt,b as lt,d as ot,u as ct,B as dt,e as ut,f as mt,l as ht,g as pt}from"./index-Dq8DwS8S.js";import"./data-vendor-Clh74PRC.js";const xt=e.forwardRef((({className:e,children:s,...r},i)=>t.jsxs(a,{ref:i,className:at("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...r,children:[s,t.jsx(yt,{})]})));xt.displayName=a.displayName;const ft=e.forwardRef((({className:e,...s},a)=>t.jsx(r,{ref:a,className:at("group flex flex-1 list-none items-center justify-center space-x-1",e),...s})));ft.displayName=r.displayName;const gt=c,jt=pe("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),vt=e.forwardRef((({className:e,children:s,...a},r)=>t.jsxs(i,{ref:r,className:at(jt(),"group",e),...a,children:[s," ",t.jsx(he,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})));vt.displayName=i.displayName;const bt=e.forwardRef((({className:e,...s},a)=>t.jsx(n,{ref:a,className:at("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",e),...s})));bt.displayName=n.displayName;const yt=e.forwardRef((({className:e,...s},a)=>t.jsx("div",{className:at("absolute left-0 top-full flex justify-center"),children:t.jsx(l,{className:at("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:a,...s})})));yt.displayName=l.displayName;e.forwardRef((({className:e,...s},a)=>t.jsx(o,{ref:a,className:at("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...s,children:t.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}))).displayName=o.displayName;const wt=x,Nt=f,kt=e.forwardRef((({className:e,...s},a)=>t.jsx(d,{ref:a,className:at("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s})));kt.displayName=d.displayName;const St=e.forwardRef((({className:e,children:s,...a},r)=>t.jsxs(Nt,{children:[t.jsx(kt,{}),t.jsxs(u,{ref:r,className:at("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,t.jsxs(m,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(xe,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})));St.displayName=u.displayName;const Ct=({className:e,...s})=>t.jsx("div",{className:at("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});Ct.displayName="DialogHeader";const Et=({className:e,...s})=>t.jsx("div",{className:at("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});Et.displayName="DialogFooter";const Rt=e.forwardRef((({className:e,...s},a)=>t.jsx(h,{ref:a,className:at("text-lg font-semibold leading-none tracking-tight",e),...s})));Rt.displayName=h.displayName;const Ft=e.forwardRef((({className:e,...s},a)=>t.jsx(p,{ref:a,className:at("text-sm text-muted-foreground",e),...s})));Ft.displayName=p.displayName;const Tt=e.forwardRef((({className:e,...s},a)=>t.jsx(g,{className:at("grid gap-2",e),...s,ref:a})));Tt.displayName=g.displayName;const Ot=e.forwardRef((({className:e,...s},a)=>t.jsx(j,{ref:a,className:at("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:t.jsx(v,{className:"flex items-center justify-center",children:t.jsx(fe,{className:"h-2.5 w-2.5 fill-current text-current"})})})));Ot.displayName=j.displayName;const At=pe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_t=e.forwardRef((({className:e,...s},a)=>t.jsx(b,{ref:a,className:at(At(),e),...s})));_t.displayName=b.displayName;const Lt=e.forwardRef((({className:e,...s},a)=>t.jsxs(y,{ref:a,className:at("relative flex w-full touch-none select-none items-center",e),...s,children:[t.jsx(w,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:t.jsx(N,{className:"absolute h-full bg-primary"})}),t.jsx(k,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})));Lt.displayName=y.displayName;const zt=e.forwardRef((({className:e,...s},a)=>t.jsx(S,{className:at("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:a,children:t.jsx(C,{className:at("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})));function Pt(e,t){return function(){return e.apply(t,arguments)}}zt.displayName=S.displayName;const{toString:Ut}=Object.prototype,{getPrototypeOf:Dt}=Object,{iterator:Bt,toStringTag:Vt}=Symbol,It=(e=>t=>{const s=Ut.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Mt=e=>(e=e.toLowerCase(),t=>It(t)===e),qt=e=>t=>typeof t===e,{isArray:$t}=Array,Ht=qt("undefined");const Wt=Mt("ArrayBuffer");const Gt=qt("string"),Jt=qt("function"),Kt=qt("number"),Qt=e=>null!==e&&"object"==typeof e,Xt=e=>{if("object"!==It(e))return!1;const t=Dt(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Vt in e||Bt in e)},Yt=Mt("Date"),Zt=Mt("File"),es=Mt("Blob"),ts=Mt("FileList"),ss=Mt("URLSearchParams"),[as,rs,is,ns]=["ReadableStream","Request","Response","Headers"].map(Mt);function ls(e,t,{allOwnKeys:s=!1}={}){if(null==e)return;let a,r;if("object"!=typeof e&&(e=[e]),$t(e))for(a=0,r=e.length;a<r;a++)t.call(null,e[a],a,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let n;for(a=0;a<i;a++)n=r[a],t.call(null,e[n],n,e)}}function os(e,t){t=t.toLowerCase();const s=Object.keys(e);let a,r=s.length;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const cs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ds=e=>!Ht(e)&&e!==cs;const us=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&Dt(Uint8Array)),ms=Mt("HTMLFormElement"),hs=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),ps=Mt("RegExp"),xs=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};ls(s,((s,r)=>{let i;!1!==(i=t(s,r,e))&&(a[r]=i||s)})),Object.defineProperties(e,a)};const fs=Mt("AsyncFunction"),gs=(js="function"==typeof setImmediate,vs=Jt(cs.postMessage),js?setImmediate:vs?(bs=`axios@${Math.random()}`,ys=[],cs.addEventListener("message",(({source:e,data:t})=>{e===cs&&t===bs&&ys.length&&ys.shift()()}),!1),e=>{ys.push(e),cs.postMessage(bs,"*")}):e=>setTimeout(e));var js,vs,bs,ys;const ws="undefined"!=typeof queueMicrotask?queueMicrotask.bind(cs):"undefined"!=typeof process&&process.nextTick||gs,Ns={isArray:$t,isArrayBuffer:Wt,isBuffer:function(e){return null!==e&&!Ht(e)&&null!==e.constructor&&!Ht(e.constructor)&&Jt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Jt(e.append)&&("formdata"===(t=It(e))||"object"===t&&Jt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Wt(e.buffer),t},isString:Gt,isNumber:Kt,isBoolean:e=>!0===e||!1===e,isObject:Qt,isPlainObject:Xt,isReadableStream:as,isRequest:rs,isResponse:is,isHeaders:ns,isUndefined:Ht,isDate:Yt,isFile:Zt,isBlob:es,isRegExp:ps,isFunction:Jt,isStream:e=>Qt(e)&&Jt(e.pipe),isURLSearchParams:ss,isTypedArray:us,isFileList:ts,forEach:ls,merge:function e(){const{caseless:t}=ds(this)&&this||{},s={},a=(a,r)=>{const i=t&&os(s,r)||r;Xt(s[i])&&Xt(a)?s[i]=e(s[i],a):Xt(a)?s[i]=e({},a):$t(a)?s[i]=a.slice():s[i]=a};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ls(arguments[r],a);return s},extend:(e,t,s,{allOwnKeys:a}={})=>(ls(t,((t,a)=>{s&&Jt(t)?e[a]=Pt(t,s):e[a]=t}),{allOwnKeys:a}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,a)=>{let r,i,n;const l={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)n=r[i],a&&!a(n,e,t)||l[n]||(t[n]=e[n],l[n]=!0);e=!1!==s&&Dt(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:It,kindOfTest:Mt,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return-1!==a&&a===s},toArray:e=>{if(!e)return null;if($t(e))return e;let t=e.length;if(!Kt(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Bt]).call(e);let a;for(;(a=s.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const a=[];for(;null!==(s=e.exec(t));)a.push(s);return a},isHTMLForm:ms,hasOwnProperty:hs,hasOwnProp:hs,reduceDescriptors:xs,freezeMethods:e=>{xs(e,((t,s)=>{if(Jt(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const a=e[s];Jt(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))}))},toObjectSet:(e,t)=>{const s={},a=e=>{e.forEach((e=>{s[e]=!0}))};return $t(e)?a(e):a(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,s){return t.toUpperCase()+s})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:os,global:cs,isContextDefined:ds,isSpecCompliantForm:function(e){return!!(e&&Jt(e.append)&&"FormData"===e[Vt]&&e[Bt])},toJSONObject:e=>{const t=new Array(10),s=(e,a)=>{if(Qt(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[a]=e;const r=$t(e)?[]:{};return ls(e,((e,t)=>{const i=s(e,a+1);!Ht(i)&&(r[t]=i)})),t[a]=void 0,r}}return e};return s(e,0)},isAsyncFn:fs,isThenable:e=>e&&(Qt(e)||Jt(e))&&Jt(e.then)&&Jt(e.catch),setImmediate:gs,asap:ws,isIterable:e=>null!=e&&Jt(e[Bt])};function ks(e,t,s,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}Ns.inherits(ks,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ns.toJSONObject(this.config),code:this.code,status:this.status}}});const Ss=ks.prototype,Cs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Cs[e]={value:e}})),Object.defineProperties(ks,Cs),Object.defineProperty(Ss,"isAxiosError",{value:!0}),ks.from=(e,t,s,a,r,i)=>{const n=Object.create(Ss);return Ns.toFlatObject(e,n,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ks.call(n,e.message,t,s,a,r),n.cause=e,n.name=e.name,i&&Object.assign(n,i),n};function Es(e){return Ns.isPlainObject(e)||Ns.isArray(e)}function Rs(e){return Ns.endsWith(e,"[]")?e.slice(0,-2):e}function Fs(e,t,s){return e?e.concat(t).map((function(e,t){return e=Rs(e),!s&&t?"["+e+"]":e})).join(s?".":""):t}const Ts=Ns.toFlatObject(Ns,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Os(e,t,s){if(!Ns.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(s=Ns.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ns.isUndefined(t[e])}))).metaTokens,r=s.visitor||c,i=s.dots,n=s.indexes,l=(s.Blob||"undefined"!=typeof Blob&&Blob)&&Ns.isSpecCompliantForm(t);if(!Ns.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(Ns.isDate(e))return e.toISOString();if(!l&&Ns.isBlob(e))throw new ks("Blob is not supported. Use a Buffer instead.");return Ns.isArrayBuffer(e)||Ns.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,r){let l=e;if(e&&!r&&"object"==typeof e)if(Ns.endsWith(s,"{}"))s=a?s:s.slice(0,-2),e=JSON.stringify(e);else if(Ns.isArray(e)&&function(e){return Ns.isArray(e)&&!e.some(Es)}(e)||(Ns.isFileList(e)||Ns.endsWith(s,"[]"))&&(l=Ns.toArray(e)))return s=Rs(s),l.forEach((function(e,a){!Ns.isUndefined(e)&&null!==e&&t.append(!0===n?Fs([s],a,i):null===n?s:s+"[]",o(e))})),!1;return!!Es(e)||(t.append(Fs(r,s,i),o(e)),!1)}const d=[],u=Object.assign(Ts,{defaultVisitor:c,convertValue:o,isVisitable:Es});if(!Ns.isObject(e))throw new TypeError("data must be an object");return function e(s,a){if(!Ns.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+a.join("."));d.push(s),Ns.forEach(s,(function(s,i){!0===(!(Ns.isUndefined(s)||null===s)&&r.call(t,s,Ns.isString(i)?i.trim():i,a,u))&&e(s,a?a.concat(i):[i])})),d.pop()}}(e),t}function As(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function _s(e,t){this._pairs=[],e&&Os(e,this,t)}const Ls=_s.prototype;function zs(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ps(e,t,s){if(!t)return e;const a=s&&s.encode||zs;Ns.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let i;if(i=r?r(t,s):Ns.isURLSearchParams(t)?t.toString():new _s(t,s).toString(a),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}Ls.append=function(e,t){this._pairs.push([e,t])},Ls.toString=function(e){const t=e?function(t){return e.call(this,t,As)}:As;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class Us{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ns.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const Ds={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bs={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:_s,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Vs="undefined"!=typeof window&&"undefined"!=typeof document,Is="object"==typeof navigator&&navigator||void 0,Ms=Vs&&(!Is||["ReactNative","NativeScript","NS"].indexOf(Is.product)<0),qs="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,$s=Vs&&window.location.href||"http://localhost",Hs={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vs,hasStandardBrowserEnv:Ms,hasStandardBrowserWebWorkerEnv:qs,navigator:Is,origin:$s},Symbol.toStringTag,{value:"Module"})),...Bs};function Ws(e){function t(e,s,a,r){let i=e[r++];if("__proto__"===i)return!0;const n=Number.isFinite(+i),l=r>=e.length;if(i=!i&&Ns.isArray(a)?a.length:i,l)return Ns.hasOwnProp(a,i)?a[i]=[a[i],s]:a[i]=s,!n;a[i]&&Ns.isObject(a[i])||(a[i]=[]);return t(e,s,a[i],r)&&Ns.isArray(a[i])&&(a[i]=function(e){const t={},s=Object.keys(e);let a;const r=s.length;let i;for(a=0;a<r;a++)i=s[a],t[i]=e[i];return t}(a[i])),!n}if(Ns.isFormData(e)&&Ns.isFunction(e.entries)){const s={};return Ns.forEachEntry(e,((e,a)=>{t(function(e){return Ns.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),a,s,0)})),s}return null}const Gs={transitional:Ds,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,r=Ns.isObject(e);r&&Ns.isHTMLForm(e)&&(e=new FormData(e));if(Ns.isFormData(e))return a?JSON.stringify(Ws(e)):e;if(Ns.isArrayBuffer(e)||Ns.isBuffer(e)||Ns.isStream(e)||Ns.isFile(e)||Ns.isBlob(e)||Ns.isReadableStream(e))return e;if(Ns.isArrayBufferView(e))return e.buffer;if(Ns.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Os(e,new Hs.classes.URLSearchParams,Object.assign({visitor:function(e,t,s,a){return Hs.isNode&&Ns.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Ns.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Os(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t){if(Ns.isString(e))try{return(t||JSON.parse)(e),Ns.trim(e)}catch(s){if("SyntaxError"!==s.name)throw s}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Gs.transitional,s=t&&t.forcedJSONParsing,a="json"===this.responseType;if(Ns.isResponse(e)||Ns.isReadableStream(e))return e;if(e&&Ns.isString(e)&&(s&&!this.responseType||a)){const s=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(r){if(s){if("SyntaxError"===r.name)throw ks.from(r,ks.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hs.classes.FormData,Blob:Hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ns.forEach(["delete","get","head","post","put","patch"],(e=>{Gs.headers[e]={}}));const Js=Ns.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ks=Symbol("internals");function Qs(e){return e&&String(e).trim().toLowerCase()}function Xs(e){return!1===e||null==e?e:Ns.isArray(e)?e.map(Xs):String(e)}function Ys(e,t,s,a,r){return Ns.isFunction(a)?a.call(this,t,s):(r&&(t=s),Ns.isString(t)?Ns.isString(a)?-1!==t.indexOf(a):Ns.isRegExp(a)?a.test(t):void 0:void 0)}class Zs{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function r(e,t,s){const r=Qs(t);if(!r)throw new Error("header name must be a non-empty string");const i=Ns.findKey(a,r);(!i||void 0===a[i]||!0===s||void 0===s&&!1!==a[i])&&(a[i||t]=Xs(e))}const i=(e,t)=>Ns.forEach(e,((e,s)=>r(e,s,t)));if(Ns.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Ns.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let s,a,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),s=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!s||t[s]&&Js[s]||("set-cookie"===s?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)})),t})(e),t);else if(Ns.isObject(e)&&Ns.isIterable(e)){let s,a,r={};for(const t of e){if(!Ns.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(s=r[a])?Ns.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}i(r,t)}else null!=e&&r(t,e,s);return this}get(e,t){if(e=Qs(e)){const s=Ns.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}(e);if(Ns.isFunction(t))return t.call(this,e,s);if(Ns.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Qs(e)){const s=Ns.findKey(this,e);return!(!s||void 0===this[s]||t&&!Ys(0,this[s],s,t))}return!1}delete(e,t){const s=this;let a=!1;function r(e){if(e=Qs(e)){const r=Ns.findKey(s,e);!r||t&&!Ys(0,s[r],r,t)||(delete s[r],a=!0)}}return Ns.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const r=t[s];e&&!Ys(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,s={};return Ns.forEach(this,((a,r)=>{const i=Ns.findKey(s,r);if(i)return t[i]=Xs(a),void delete t[r];const n=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,s)=>t.toUpperCase()+s))}(r):String(r).trim();n!==r&&delete t[r],t[n]=Xs(a),s[n]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ns.forEach(this,((s,a)=>{null!=s&&!1!==s&&(t[a]=e&&Ns.isArray(s)?s.join(", "):s)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach((e=>s.set(e))),s}static accessor(e){const t=(this[Ks]=this[Ks]={accessors:{}}).accessors,s=this.prototype;function a(e){const a=Qs(e);t[a]||(!function(e,t){const s=Ns.toCamelCase(" "+t);["get","set","has"].forEach((a=>{Object.defineProperty(e,a+s,{value:function(e,s,r){return this[a].call(this,t,e,s,r)},configurable:!0})}))}(s,e),t[a]=!0)}return Ns.isArray(e)?e.forEach(a):a(e),this}}function ea(e,t){const s=this||Gs,a=t||s,r=Zs.from(a.headers);let i=a.data;return Ns.forEach(e,(function(e){i=e.call(s,i,r.normalize(),t?t.status:void 0)})),r.normalize(),i}function ta(e){return!(!e||!e.__CANCEL__)}function sa(e,t,s){ks.call(this,null==e?"canceled":e,ks.ERR_CANCELED,t,s),this.name="CanceledError"}function aa(e,t,s){const a=s.config.validateStatus;s.status&&a&&!a(s.status)?t(new ks("Request failed with status code "+s.status,[ks.ERR_BAD_REQUEST,ks.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}Zs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ns.reduceDescriptors(Zs.prototype,(({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[s]=e}}})),Ns.freezeMethods(Zs),Ns.inherits(sa,ks,{__CANCEL__:!0});const ra=(e,t,s=3)=>{let a=0;const r=function(e,t){e=e||10;const s=new Array(e),a=new Array(e);let r,i=0,n=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=a[n];r||(r=o),s[i]=l,a[i]=o;let d=n,u=0;for(;d!==i;)u+=s[d++],d%=e;if(i=(i+1)%e,i===n&&(n=(n+1)%e),o-r<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}}(50,250);return function(e,t){let s,a,r=0,i=1e3/t;const n=(t,i=Date.now())=>{r=i,s=null,a&&(clearTimeout(a),a=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),l=t-r;l>=i?n(e,t):(s=e,a||(a=setTimeout((()=>{a=null,n(s)}),i-l)))},()=>s&&n(s)]}((s=>{const i=s.loaded,n=s.lengthComputable?s.total:void 0,l=i-a,o=r(l);a=i;e({loaded:i,total:n,progress:n?i/n:void 0,bytes:l,rate:o||void 0,estimated:o&&n&&i<=n?(n-i)/o:void 0,event:s,lengthComputable:null!=n,[t?"download":"upload"]:!0})}),s)},ia=(e,t)=>{const s=null!=e;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},na=e=>(...t)=>Ns.asap((()=>e(...t))),la=Hs.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Hs.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Hs.origin),Hs.navigator&&/(msie|trident)/i.test(Hs.navigator.userAgent)):()=>!0,oa=Hs.hasStandardBrowserEnv?{write(e,t,s,a,r,i){const n=[e+"="+encodeURIComponent(t)];Ns.isNumber(s)&&n.push("expires="+new Date(s).toGMTString()),Ns.isString(a)&&n.push("path="+a),Ns.isString(r)&&n.push("domain="+r),!0===i&&n.push("secure"),document.cookie=n.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ca(e,t,s){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const da=e=>e instanceof Zs?{...e}:e;function ua(e,t){t=t||{};const s={};function a(e,t,s,a){return Ns.isPlainObject(e)&&Ns.isPlainObject(t)?Ns.merge.call({caseless:a},e,t):Ns.isPlainObject(t)?Ns.merge({},t):Ns.isArray(t)?t.slice():t}function r(e,t,s,r){return Ns.isUndefined(t)?Ns.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function i(e,t){if(!Ns.isUndefined(t))return a(void 0,t)}function n(e,t){return Ns.isUndefined(t)?Ns.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function l(s,r,i){return i in t?a(s,r):i in e?a(void 0,s):void 0}const o={url:i,method:i,data:i,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:l,headers:(e,t,s)=>r(da(e),da(t),0,!0)};return Ns.forEach(Object.keys(Object.assign({},e,t)),(function(a){const i=o[a]||r,n=i(e[a],t[a],a);Ns.isUndefined(n)&&i!==l||(s[a]=n)})),s}const ma=e=>{const t=ua({},e);let s,{data:a,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:n,headers:l,auth:o}=t;if(t.headers=l=Zs.from(l),t.url=Ps(ca(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Ns.isFormData(a))if(Hs.hasStandardBrowserEnv||Hs.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(s=l.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(Hs.hasStandardBrowserEnv&&(r&&Ns.isFunction(r)&&(r=r(t)),r||!1!==r&&la(t.url))){const e=i&&n&&oa.read(n);e&&l.set(i,e)}return t},ha="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,s){const a=ma(e);let r=a.data;const i=Zs.from(a.headers).normalize();let n,l,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=a;function p(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(n),a.signal&&a.signal.removeEventListener("abort",n)}let x=new XMLHttpRequest;function f(){if(!x)return;const a=Zs.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());aa((function(e){t(e),p()}),(function(e){s(e),p()}),{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:a,config:e,request:x}),x=null}x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout,"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(f)},x.onabort=function(){x&&(s(new ks("Request aborted",ks.ECONNABORTED,e,x)),x=null)},x.onerror=function(){s(new ks("Network Error",ks.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||Ds;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),s(new ks(t,r.clarifyTimeoutError?ks.ETIMEDOUT:ks.ECONNABORTED,e,x)),x=null},void 0===r&&i.setContentType(null),"setRequestHeader"in x&&Ns.forEach(i.toJSON(),(function(e,t){x.setRequestHeader(t,e)})),Ns.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),u&&"json"!==u&&(x.responseType=a.responseType),h&&([o,d]=ra(h,!0),x.addEventListener("progress",o)),m&&x.upload&&([l,c]=ra(m),x.upload.addEventListener("progress",l),x.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(n=t=>{x&&(s(!t||t.type?new sa(null,e,x):t),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(n),a.signal&&(a.signal.aborted?n():a.signal.addEventListener("abort",n)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);g&&-1===Hs.protocols.indexOf(g)?s(new ks("Unsupported protocol "+g+":",ks.ERR_BAD_REQUEST,e)):x.send(r||null)}))},pa=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,a=new AbortController;const r=function(e){if(!s){s=!0,n();const t=e instanceof Error?e:this.reason;a.abort(t instanceof ks?t:new sa(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,r(new ks(`timeout ${t} of ms exceeded`,ks.ETIMEDOUT))}),t);const n=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)})),e=null)};e.forEach((e=>e.addEventListener("abort",r)));const{signal:l}=a;return l.unsubscribe=()=>Ns.asap(n),l}},xa=function*(e,t){let s=e.byteLength;if(s<t)return void(yield e);let a,r=0;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},fa=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},ga=(e,t,s,a)=>{const r=async function*(e,t){for await(const s of fa(e))yield*xa(s,t)}(e,t);let i,n=0,l=e=>{i||(i=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return l(),void e.close();let i=a.byteLength;if(s){let e=n+=i;s(e)}e.enqueue(new Uint8Array(a))}catch(t){throw l(t),t}},cancel:e=>(l(e),r.return())},{highWaterMark:2})},ja="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,va=ja&&"function"==typeof ReadableStream,ba=ja&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ya=(e,...t)=>{try{return!!e(...t)}catch(s){return!1}},wa=va&&ya((()=>{let e=!1;const t=new Request(Hs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Na=va&&ya((()=>Ns.isReadableStream(new Response("").body))),ka={stream:Na&&(e=>e.body)};var Sa;ja&&(Sa=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ka[e]&&(ka[e]=Ns.isFunction(Sa[e])?t=>t[e]():(t,s)=>{throw new ks(`Response type '${e}' is not supported`,ks.ERR_NOT_SUPPORT,s)})})));const Ca=async(e,t)=>{const s=Ns.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(Ns.isBlob(e))return e.size;if(Ns.isSpecCompliantForm(e)){const t=new Request(Hs.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ns.isArrayBufferView(e)||Ns.isArrayBuffer(e)?e.byteLength:(Ns.isURLSearchParams(e)&&(e+=""),Ns.isString(e)?(await ba(e)).byteLength:void 0)})(t):s},Ea={http:null,xhr:ha,fetch:ja&&(async e=>{let{url:t,method:s,data:a,signal:r,cancelToken:i,timeout:n,onDownloadProgress:l,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=ma(e);c=c?(c+"").toLowerCase():"text";let h,p=pa([r,i&&i.toAbortSignal()],n);const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let f;try{if(o&&wa&&"get"!==s&&"head"!==s&&0!==(f=await Ca(d,a))){let e,s=new Request(t,{method:"POST",body:a,duplex:"half"});if(Ns.isFormData(a)&&(e=s.headers.get("content-type"))&&d.setContentType(e),s.body){const[e,t]=ia(f,ra(na(o)));a=ga(s.body,65536,e,t)}}Ns.isString(u)||(u=u?"include":"omit");const r="credentials"in Request.prototype;h=new Request(t,{...m,signal:p,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:r?u:void 0});let i=await fetch(h);const n=Na&&("stream"===c||"response"===c);if(Na&&(l||n&&x)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=Ns.toFiniteNumber(i.headers.get("content-length")),[s,a]=l&&ia(t,ra(na(l),!0))||[];i=new Response(ga(i.body,65536,s,(()=>{a&&a(),x&&x()})),e)}c=c||"text";let g=await ka[Ns.findKey(ka,c)||"text"](i,e);return!n&&x&&x(),await new Promise(((t,s)=>{aa(t,s,{data:g,headers:Zs.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:h})}))}catch(g){if(x&&x(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new ks("Network Error",ks.ERR_NETWORK,e,h),{cause:g.cause||g});throw ks.from(g,g&&g.code,e,h)}})};Ns.forEach(Ea,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ra=e=>`- ${e}`,Fa=e=>Ns.isFunction(e)||null===e||!1===e,Ta=e=>{e=Ns.isArray(e)?e:[e];const{length:t}=e;let s,a;const r={};for(let i=0;i<t;i++){let t;if(s=e[i],a=s,!Fa(s)&&(a=Ea[(t=String(s)).toLowerCase()],void 0===a))throw new ks(`Unknown adapter '${t}'`);if(a)break;r[t||"#"+i]=a}if(!a){const e=Object.entries(r).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new ks("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Ra).join("\n"):" "+Ra(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return a};function Oa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new sa(null,e)}function Aa(e){Oa(e),e.headers=Zs.from(e.headers),e.data=ea.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ta(e.adapter||Gs.adapter)(e).then((function(t){return Oa(e),t.data=ea.call(e,e.transformResponse,t),t.headers=Zs.from(t.headers),t}),(function(t){return ta(t)||(Oa(e),t&&t.response&&(t.response.data=ea.call(e,e.transformResponse,t.response),t.response.headers=Zs.from(t.response.headers))),Promise.reject(t)}))}const _a="1.9.0",La={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{La[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}}));const za={};La.transitional=function(e,t,s){return(a,r,i)=>{if(!1===e)throw new ks(function(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(s?". "+s:"")}(r," has been removed"+(t?" in "+t:"")),ks.ERR_DEPRECATED);return t&&!za[r]&&(za[r]=!0),!e||e(a,r,i)}},La.spelling=function(e){return(e,t)=>!0};const Pa={assertOptions:function(e,t,s){if("object"!=typeof e)throw new ks("options must be an object",ks.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const i=a[r],n=t[i];if(n){const t=e[i],s=void 0===t||n(t,i,e);if(!0!==s)throw new ks("option "+i+" must be "+s,ks.ERR_BAD_OPTION_VALUE)}else if(!0!==s)throw new ks("Unknown option "+i,ks.ERR_BAD_OPTION)}},validators:La},Ua=Pa.validators;class Da{constructor(e){this.defaults=e||{},this.interceptors={request:new Us,response:new Us}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(a){}}throw s}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=ua(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:r}=t;void 0!==s&&Pa.assertOptions(s,{silentJSONParsing:Ua.transitional(Ua.boolean),forcedJSONParsing:Ua.transitional(Ua.boolean),clarifyTimeoutError:Ua.transitional(Ua.boolean)},!1),null!=a&&(Ns.isFunction(a)?t.paramsSerializer={serialize:a}:Pa.assertOptions(a,{encode:Ua.function,serialize:Ua.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Pa.assertOptions(t,{baseUrl:Ua.spelling("baseURL"),withXsrfToken:Ua.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=r&&Ns.merge(r.common,r[t.method]);r&&Ns.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=Zs.concat(i,r);const n=[];let l=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));const o=[];let c;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let d,u=0;if(!l){const e=[Aa.bind(this),void 0];for(e.unshift.apply(e,n),e.push.apply(e,o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=n.length;let m=t;for(u=0;u<d;){const e=n[u++],t=n[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Aa.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Ps(ca((e=ua(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Ns.forEach(["delete","get","head","options"],(function(e){Da.prototype[e]=function(t,s){return this.request(ua(s||{},{method:e,url:t,data:(s||{}).data}))}})),Ns.forEach(["post","put","patch"],(function(e){function t(t){return function(s,a,r){return this.request(ua(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Da.prototype[e]=t(),Da.prototype[e+"Form"]=t(!0)}));class Ba{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const s=this;this.promise.then((e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null})),this.promise.then=e=>{let t;const a=new Promise((e=>{s.subscribe(e),t=e})).then(e);return a.cancel=function(){s.unsubscribe(t)},a},e((function(e,a,r){s.reason||(s.reason=new sa(e,a,r),t(s.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ba((function(t){e=t})),cancel:e}}}const Va={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Va).forEach((([e,t])=>{Va[t]=e}));const Ia=function e(t){const s=new Da(t),a=Pt(Da.prototype.request,s);return Ns.extend(a,Da.prototype,s,{allOwnKeys:!0}),Ns.extend(a,s,null,{allOwnKeys:!0}),a.create=function(s){return e(ua(t,s))},a}(Gs);Ia.Axios=Da,Ia.CanceledError=sa,Ia.CancelToken=Ba,Ia.isCancel=ta,Ia.VERSION=_a,Ia.toFormData=Os,Ia.AxiosError=ks,Ia.Cancel=Ia.CanceledError,Ia.all=function(e){return Promise.all(e)},Ia.spread=function(e){return function(t){return e.apply(null,t)}},Ia.isAxiosError=function(e){return Ns.isObject(e)&&!0===e.isAxiosError},Ia.mergeConfig=ua,Ia.AxiosHeaders=Zs,Ia.formToJSON=e=>Ws(Ns.isHTMLForm(e)?new FormData(e):e),Ia.getAdapter=Ta,Ia.HttpStatusCode=Va,Ia.default=Ia;const Ma="/api/v1",qa=Ia.create({baseURL:"",timeout:6e4});qa.interceptors.request.use((e=>(e.url&&!e.url.startsWith(Ma)&&(e.url=`${Ma}${e.url.startsWith("/")?"":"/"}${e.url}`),e)));const $a="FILE_TOO_LARGE",Ha="SERVER_ERROR",Wa="UNKNOWN_ERROR";async function Ga(e,t,s,a=0){let r="string"==typeof e?e:void 0,i="string"==typeof e?t:e,n="function"==typeof t?t:s;const l=5242880;if(!i)return Promise.reject({error:"NO_FILE",message:"No file provided"});if(i.size>5368709120)return rt({title:"File Too Large",description:`Files must be less than 5GB. Your file is ${(i.size/1073741824).toFixed(2)}GB.`,variant:"destructive"}),Promise.reject({error:$a,message:"File exceeds maximum allowed size"});if(i.size>52428800)try{const e=await fetch("/api/v1/upload/init",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:i.name,filesize:i.size,content_type:i.type||"application/octet-stream"})});if(!e.ok){const t=await e.text();throw new Error(`Failed to initialize upload: ${t}`)}const{upload_id:t}=await e.json(),s=Math.ceil(i.size/l);let a=0;for(let c=0;c<s;c++){const e=c*l,r=Math.min(e+l,i.size),o=i.slice(e,r),d=new FormData;d.append("upload_id",t),d.append("chunk_index",c.toString()),d.append("total_chunks",s.toString()),d.append("chunk",o,i.name);const u=await fetch("/api/v1/upload/chunk",{method:"POST",body:d});if(!u.ok){const e=await u.text();throw new Error(`Failed to upload chunk ${c}: ${e}`)}a+=o.size,n&&n(Math.round(a/i.size*100))}const r=await fetch("/api/v1/upload/finalize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({upload_id:t})});if(!r.ok){const e=await r.text();throw new Error(`Failed to finalize upload: ${e}`)}const o=await r.json();return n&&n(100),o}catch(d){return rt({title:"Upload Failed",description:d instanceof Error?d.message:String(d),variant:"destructive"}),Promise.reject({error:Ha,message:d instanceof Error?d.message:String(d)})}let o=r;if(o||(o=i.type&&i.type.startsWith("audio/")?"/api/v1/upload/audio":i.type&&i.type.startsWith("video/")?"/api/v1/upload/video":"/api/v1/upload"),!o)throw new Error("No upload endpoint specified or inferred.");const c=new FormData;c.append("file",i);try{const e=new XMLHttpRequest;return new Promise(((t,s)=>{e.open("POST",o),n&&e.upload.addEventListener("progress",(e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);n(t)}})),e.onload=()=>{if(e.status>=200&&e.status<300)try{const s=JSON.parse(e.responseText);t(s)}catch(d){s(new Error(`Invalid response format: ${e.responseText}`))}else try{const t=JSON.parse(e.responseText);s(new Error(t.detail||`Upload failed with status ${e.status}`))}catch(a){s(new Error(`Upload failed with status ${e.status}`))}},e.onerror=()=>{s(new Error("Network error during upload"))},e.ontimeout=()=>{s(new Error("Upload timed out"))},e.timeout=36e5;try{e.send(c)}catch(a){s(new Error("Failed to send upload request: "+(a instanceof Error?a.message:String(a))))}}))}catch(d){let e="An unknown error occurred during upload.",t=Wa;return d instanceof Error&&(e=d.message),rt({title:"Upload Failed",description:e,variant:"destructive"}),Promise.reject({error:t,message:e})}}async function Ja(e,t,s=1e3){return new Promise(((a,r)=>{let i=0;let n=0;const l=async()=>{var o;try{const{data:o}=await qa.get(`${Ma}/tasks/${e}`);if("completed"===o.status)return t(100),void a(o);if("failed"===o.status)return rt({title:"Task Failed",description:o.error||"An error occurred during the task.",variant:"destructive"}),void r(new Error(o.error||"Task failed"));if(void 0!==o.progress?(n=o.progress,t(o.progress)):(n=Math.min(n+1,95),t(n)),i++,i>600)return rt({title:"Operation Timeout",description:"The operation is taking longer than expected. It may continue in the background.",variant:"destructive"}),void r(new Error("Operation timeout"));setTimeout(l,s)}catch(c){if(Ia.isAxiosError(c)&&404===(null==(o=c.response)?void 0:o.status)){const s=e.split("-")[0];return t(100),void a({id:e,status:"completed",progress:100,data:{message:"Task processing completed successfully",output_url:`/media/inputs/${s}.mp4`,original_filename:`${s}.mp4`,content_type:"video/mp4"},created_at:(new Date).toISOString(),completed_at:(new Date).toISOString()})}i>5?(rt({title:"Status Check Failed",description:"Failed to check task status. The operation may still be running.",variant:"destructive"}),r(c)):setTimeout(l,2*s)}};l()}))}async function Ka(e){try{return(await qa.post(`${Ma}/lip_sync/settings`,e)).data}catch(t){throw rt({title:"Settings Update Failed",description:"Failed to update lipsync settings on the server.",variant:"destructive"}),t}}const Qa=async e=>{try{return(await qa.post("/voice/train",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw t}},Xa={wav2lip:{id:"wav2lip",name:"Wav2Lip",description:"Fast lipsync with good accuracy",features:["Fast processing time","Good lip synchronization","Works with most face angles"],recommendedFor:["Fast iteration","General purpose lip-syncing","Standard talking head videos"]},sadtalker:{id:"sadtalker",name:"SadTalker",description:"3D-aware talking head animation",features:["Head pose control","Natural facial expressions","Still mode for fewer head movements","Expression intensity adjustment","Face enhancement options","Multiple preprocessing modes (crop/resize/full)","Reference video for eyeblinks and poses","3D face visualization","Free-view control (yaw/pitch/roll)"],recommendedFor:["Natural head movements","Expressive face animations","Creative presentations","Novel view generation","Full body animations"]}};const Ya=({engineId:e,isSelected:s=!1,onClick:a,showDetails:r=!1})=>{const i=function(e){return Xa[e]||Xa.wav2lip}(e);return t.jsxs("div",{className:`flex items-start p-3 rounded-md transition-colors ${s?"bg-white/10 border border-purple-300/30":"hover:bg-white/5 border border-transparent"} ${a?"cursor-pointer":""}`,onClick:a,children:[t.jsx("div",{className:"flex-shrink-0 mr-3 mt-1",children:(()=>{switch(e){case"wav2lip":default:return t.jsx(ve,{className:"h-5 w-5 text-purple-300"});case"sadtalker":return t.jsx(ye,{className:"h-5 w-5 text-purple-300"});case"geneface":return t.jsx(be,{className:"h-5 w-5 text-purple-300"})}})()}),t.jsxs("div",{className:"flex-grow",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"text-sm font-semibold text-white flex items-center",children:[i.name,r&&t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsxs("div",{className:"max-w-[250px]",children:[t.jsx("p",{className:"text-xs mb-2",children:i.description}),t.jsx("div",{className:"text-xs font-semibold mb-1",children:"Features:"}),t.jsx("ul",{className:"text-xs list-disc pl-4 space-y-1",children:i.features.map(((e,s)=>t.jsx("li",{children:e},s)))})]})})]})})]}),s&&t.jsx(je,{className:"h-4 w-4 text-green-400"})]}),t.jsx("p",{className:"text-xs text-gray-300 mb-1",children:i.description}),r&&t.jsxs("div",{className:"mt-2",children:[t.jsx("div",{className:"text-xs text-white/70 mb-1",children:"Best for:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:i.recommendedFor.map(((e,s)=>t.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-700/30 rounded-full text-purple-200",children:e},s)))})]})]})]})},Za=({status:e})=>{const s=(e=>{switch(e){case"ready":return"bg-green-500";case"loading":return"bg-yellow-500";default:return"bg-red-500"}})(e),a=(e=>{switch(e){case"ready":return"Engine Ready";case"loading":return"Engine Loading...";case"error":return"Engine Error / Unavailable";default:return"Engine Idle / Not Preloaded"}})(e),r="loading"===e;return t.jsx(it,{delayDuration:100,children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx("div",{className:"flex items-center space-x-1 cursor-default",children:[...Array(3)].map(((e,a)=>t.jsx("span",{className:at("h-2 w-2 rounded-full",s,r&&"animate-pulse")},a)))})}),t.jsx(ot,{side:"bottom",align:"end",children:t.jsx("p",{children:a})})]})})},er=e.forwardRef((({className:e,type:s,...a},r)=>t.jsx("input",{type:s,className:at("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a})));er.displayName="Input";const tr=O,sr=e.forwardRef((({className:e,...s},a)=>t.jsx(E,{ref:a,className:at("border-b",e),...s})));sr.displayName="AccordionItem";const ar=e.forwardRef((({className:e,children:s,...a},r)=>t.jsx(R,{className:"flex",children:t.jsxs(F,{ref:r,className:at("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...a,children:[s,t.jsx(he,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})));ar.displayName=F.displayName;const rr=e.forwardRef((({className:e,children:s,...a},r)=>t.jsx(T,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...a,children:t.jsx("div",{className:at("pb-4 pt-0",e),children:s})})));rr.displayName=T.displayName;const ir=()=>{var a,r,i,n;const{lipsyncSettings:l,updateLipsyncSettings:o}=ct(),[c,d]=e.useState(null),u=s.useRef(null),m=s.useRef(null),h=(e,t)=>{o({[e]:t});const s=e.replace(/([A-Z])/g,"_$1").toLowerCase();Ka({[s]:t}).catch((e=>{}))},p=(e,t)=>{var s;const a=null==(s=t.target.files)?void 0:s[0];if(a)if("eyeblink"===e){d(a);const e=URL.createObjectURL(a);h("refEyeblink",e)}else if("pose"===e){d(a);const e=URL.createObjectURL(a);h("refPose",e)}};return t.jsxs("div",{className:"p-3 bg-white/5 rounded-md border border-purple-300/10",children:[t.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"SadTalker Advanced Settings"}),t.jsxs(tr,{type:"single",collapsible:!0,className:"w-full",children:[t.jsxs(sr,{value:"basic-settings",className:"border-b border-purple-300/30",children:[t.jsx(ar,{className:"text-sm text-white hover:no-underline",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(we,{className:"h-4 w-4 mr-2 text-purple-300"}),"Basic Settings"]})}),t.jsx(rr,{children:t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"still-mode",checked:l.stillMode||!1,onCheckedChange:e=>h("stillMode",e)}),t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"still-mode",className:"text-white flex items-center",children:["Still Mode",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Use the same pose parameters as the original image. Results in fewer head movements."})})]})})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Reduce head motion"})]})]})}),t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"expression-scale",className:"text-white flex items-center",children:["Expression Intensity",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Controls the intensity of facial expressions. Higher values make expressions stronger."})})]})})]}),t.jsx(Lt,{id:"expression-scale",value:[l.expressionScale||1],min:.1,max:2,step:.1,onValueChange:([e])=>h("expressionScale",e)}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[t.jsx("span",{children:"Subtle"}),t.jsx("span",{children:(null==(a=l.expressionScale)?void 0:a.toFixed(1))||"1.0"}),t.jsx("span",{children:"Exaggerated"})]})]}),t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"batch-size",className:"text-white flex items-center",children:["Batch Size",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Number of frames processed at once. Higher values use more GPU but can be faster."})})]})})]}),t.jsx(Lt,{id:"batch-size",value:[l.batchSize||2],min:1,max:8,step:1,onValueChange:([e])=>h("batchSize",e)}),t.jsx("div",{className:"text-xs text-white mt-1 text-right",children:l.batchSize||2})]})]})})]}),t.jsxs(sr,{value:"preprocess-mode",className:"border-b border-purple-300/30",children:[t.jsx(ar,{className:"text-sm text-white hover:no-underline",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ne,{className:"h-4 w-4 mr-2 text-purple-300"}),"Preprocess Mode"]})}),t.jsx(rr,{children:t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsxs(Tt,{value:l.preprocessMode||"crop",onValueChange:e=>h("preprocessMode",e),className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"crop",id:"preprocess-crop"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"preprocess-crop",className:"text-sm font-medium text-white",children:"Crop"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Only animates the cropped face region"})]})]}),t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"resize",id:"preprocess-resize"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"preprocess-resize",className:"text-sm font-medium text-white",children:"Resize"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Resizes whole image for ID-photo style"})]})]}),t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"full",id:"preprocess-full"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"preprocess-full",className:"text-sm font-medium text-white",children:"Full"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Animates face and places back in full image"})]})]})]}),t.jsxs("div",{className:"text-xs p-2 bg-purple-900/20 rounded text-purple-200 flex items-start",children:[t.jsx(ge,{className:"h-3.5 w-3.5 mr-1 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:'For full-body images, use "Crop" mode for face close-ups or "Full" mode with Still Mode enabled.'})]})]})})]}),t.jsxs(sr,{value:"enhancer-settings",className:"border-b border-purple-300/30",children:[t.jsx(ar,{className:"text-sm text-white hover:no-underline",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(ke,{className:"h-4 w-4 mr-2 text-purple-300"}),"Enhancement Options"]})}),t.jsx(rr,{children:t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"use-enhancer",checked:l.useEnhancer||!1,onCheckedChange:e=>h("useEnhancer",e)}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"use-enhancer",className:"text-white",children:"Use Face Enhancer"}),t.jsx("p",{className:"text-xs text-gray-400",children:"GFPGAN face restoration (higher quality, slower)"})]})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"pose-style",className:"text-white mb-2",children:"Pose Style"}),t.jsx(Lt,{id:"pose-style",value:[l.poseStyle||0],min:0,max:45,step:5,onValueChange:([e])=>h("poseStyle",e)}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[t.jsx("span",{children:"Subtle"}),t.jsx("span",{children:l.poseStyle||0}),t.jsx("span",{children:"Dramatic"})]})]})]})})]}),t.jsxs(sr,{value:"reference-video",className:"border-b border-purple-300/30",children:[t.jsx(ar,{className:"text-sm text-white hover:no-underline",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(ve,{className:"h-4 w-4 mr-2 text-purple-300"}),"Reference Videos"]})}),t.jsx(rr,{children:t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"ref-eyeblink",className:"text-white flex items-center",children:["Reference Video (Eyeblinks)",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Borrow eyeblink patterns from a reference video for more natural eye movements."})})]})})]}),t.jsxs("div",{className:"flex mt-1 gap-2",children:[t.jsxs(dt,{variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=u.current)?void 0:e.click()},className:"text-xs",children:[t.jsx(Se,{className:"h-3.5 w-3.5 mr-1"}),"Select Video"]}),l.refEyeblink&&t.jsx("div",{className:"text-xs bg-purple-900/20 rounded px-2 py-1 text-white flex-1 truncate",children:"Reference video selected"})]}),t.jsx("input",{type:"file",ref:u,className:"hidden",accept:"video/*",onChange:e=>p("eyeblink",e)})]}),t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"ref-pose",className:"text-white flex items-center",children:["Reference Video (Pose)",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Borrow head pose movements from a reference video for more natural motion."})})]})})]}),t.jsxs("div",{className:"flex mt-1 gap-2",children:[t.jsxs(dt,{variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=m.current)?void 0:e.click()},className:"text-xs",children:[t.jsx(Ce,{className:"h-3.5 w-3.5 mr-1"}),"Select Video"]}),l.refPose&&t.jsx("div",{className:"text-xs bg-purple-900/20 rounded px-2 py-1 text-white flex-1 truncate",children:"Reference video selected"})]}),t.jsx("input",{type:"file",ref:m,className:"hidden",accept:"video/*",onChange:e=>p("pose",e)})]})]})})]}),t.jsxs(sr,{value:"advanced-features",className:"border-b border-purple-300/30",children:[t.jsx(ar,{className:"text-sm text-white hover:no-underline",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ee,{className:"h-4 w-4 mr-2 text-purple-300"}),"Advanced Features"]})}),t.jsx(rr,{children:t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"face3d-vis",checked:l.face3dVis||!1,onCheckedChange:e=>h("face3dVis",e)}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"face3d-vis",className:"text-white",children:"3D Face Visualization"}),t.jsx("p",{className:"text-xs text-gray-400",children:"Generate 3D rendered face"})]})]}),t.jsxs("div",{className:"pt-2",children:[t.jsxs(_t,{className:"text-white flex items-center",children:["Free View Controls",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Control head rotation angles. Add 2-3 values to define keyframes for movement."})})]})})]}),t.jsxs("div",{className:"mt-2",children:[t.jsx(_t,{htmlFor:"input-yaw",className:"text-xs text-gray-300",children:"Yaw (Left-Right)"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(er,{id:"input-yaw",placeholder:"-20 30 10",className:"bg-slate-700 border-slate-600 text-white",value:(null==(r=l.inputYaw)?void 0:r.join(" "))||"",onChange:e=>{const t=e.target.value.split(" ").map((e=>parseFloat(e))).filter((e=>!isNaN(e)));h("inputYaw",t.length>0?t:void 0)}}),t.jsx(Re,{className:"h-4 w-4 text-gray-400"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Values between -90 and 90"})]}),t.jsxs("div",{className:"mt-2",children:[t.jsx(_t,{htmlFor:"input-pitch",className:"text-xs text-gray-300",children:"Pitch (Up-Down)"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(er,{id:"input-pitch",placeholder:"-20 0 20",className:"bg-slate-700 border-slate-600 text-white",value:(null==(i=l.inputPitch)?void 0:i.join(" "))||"",onChange:e=>{const t=e.target.value.split(" ").map((e=>parseFloat(e))).filter((e=>!isNaN(e)));h("inputPitch",t.length>0?t:void 0)}}),t.jsx(Re,{className:"h-4 w-4 text-gray-400 rotate-90"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Values between -90 and 90"})]}),t.jsxs("div",{className:"mt-2",children:[t.jsx(_t,{htmlFor:"input-roll",className:"text-xs text-gray-300",children:"Roll (Tilt)"}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(er,{id:"input-roll",placeholder:"-10 0 10",className:"bg-slate-700 border-slate-600 text-white",value:(null==(n=l.inputRoll)?void 0:n.join(" "))||"",onChange:e=>{const t=e.target.value.split(" ").map((e=>parseFloat(e))).filter((e=>!isNaN(e)));h("inputRoll",t.length>0?t:void 0)}}),t.jsx(Re,{className:"h-4 w-4 text-gray-400 rotate-45"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Values between -90 and 90"})]})]})]})})]})]}),t.jsx("div",{className:"text-xs text-purple-200/70 mt-4 p-2 bg-purple-900/20 rounded",children:t.jsxs("p",{className:"flex items-start",children:[t.jsx(ge,{className:"h-3.5 w-3.5 mr-1 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:'For best results with full body images, use "still" mode with "full" preprocess mode. Use "crop" mode for facial close-ups.'})]})})]})},nr=$,lr=H,or=e.forwardRef((({className:e,children:s,...a},r)=>t.jsxs(A,{ref:r,className:at("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,t.jsx(_,{asChild:!0,children:t.jsx(he,{className:"h-4 w-4 opacity-50"})})]})));or.displayName=A.displayName;const cr=e.forwardRef((({className:e,...s},a)=>t.jsx(L,{ref:a,className:at("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(Fe,{className:"h-4 w-4"})})));cr.displayName=L.displayName;const dr=e.forwardRef((({className:e,...s},a)=>t.jsx(z,{ref:a,className:at("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(he,{className:"h-4 w-4"})})));dr.displayName=z.displayName;const ur=e.forwardRef((({className:e,children:s,position:a="popper",...r},i)=>t.jsx(P,{children:t.jsxs(U,{ref:i,className:at("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[t.jsx(cr,{}),t.jsx(D,{className:at("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(dr,{})]})})));ur.displayName=U.displayName;e.forwardRef((({className:e,...s},a)=>t.jsx(B,{ref:a,className:at("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s}))).displayName=B.displayName;const mr=e.forwardRef((({className:e,children:s,...a},r)=>t.jsxs(V,{ref:r,className:at("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(I,{children:t.jsx(Te,{className:"h-4 w-4"})})}),t.jsx(M,{children:s})]})));mr.displayName=V.displayName;e.forwardRef((({className:e,...s},a)=>t.jsx(q,{ref:a,className:at("-mx-1 my-1 h-px bg-muted",e),...s}))).displayName=q.displayName;const hr=()=>{var a,r,i,n;const{lipsyncSettings:l,updateLipsyncSettings:o}=ct();e.useState(null),s.useRef(null);const c=(e,t)=>{o({[e]:t});const s=e.replace(/([A-Z])/g,"_$1").toLowerCase();Ka({[s]:t}).catch((e=>{}))};return t.jsxs("div",{className:"p-3 bg-white/5 rounded-md border border-purple-300/10",children:[t.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"GeneFace Advanced Settings"}),t.jsxs(tr,{type:"single",collapsible:!0,className:"w-full",children:[t.jsxs(sr,{value:"quality-settings",className:"border-b border-purple-300/30",children:[t.jsx(ar,{className:"text-sm text-white hover:no-underline",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Oe,{className:"h-4 w-4 mr-2 text-purple-300"}),"Quality Settings"]})}),t.jsx(rr,{children:t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"quality-level",className:"text-white flex items-center",children:["Quality Level",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Controls the render quality. Higher values produce better results but take longer."})})]})})]}),t.jsx(Lt,{id:"quality-level",value:[l.quality],min:10,max:100,step:10,onValueChange:([e])=>c("quality",e)}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[t.jsx("span",{children:"Faster"}),t.jsxs("span",{children:[l.quality,"%"]}),t.jsx("span",{children:"Higher Quality"})]})]}),t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"frame-rate",className:"text-white flex items-center",children:["Frame Sampling Rate",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Controls how many frames are rendered per second. Higher values are smoother but slower."})})]})})]}),t.jsxs(nr,{value:(null==(a=l.frameRate)?void 0:a.toString())||"25",onValueChange:e=>c("frameRate",parseInt(e)),children:[t.jsx(or,{className:"bg-slate-700 border-slate-600 text-white",children:t.jsx(lr,{placeholder:"Select frame rate"})}),t.jsxs(ur,{className:"bg-slate-800 border-slate-700 text-white",children:[t.jsx(mr,{value:"15",children:"15 FPS"}),t.jsx(mr,{value:"25",children:"25 FPS"}),t.jsx(mr,{value:"30",children:"30 FPS"}),t.jsx(mr,{value:"60",children:"60 FPS"})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"high-quality-mode",checked:l.useHighQualityMode||!1,onCheckedChange:e=>c("useHighQualityMode",e)}),t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"high-quality-mode",className:"text-white flex items-center",children:["High Quality Mode",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Enables super-resolution and additional enhancements. Significantly slower but higher quality."})})]})})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Higher quality but much slower"})]})]})]})})]}),t.jsxs(sr,{value:"model-settings",className:"border-b border-purple-300/30",children:[t.jsx(ar,{className:"text-sm text-white hover:no-underline",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ae,{className:"h-4 w-4 mr-2 text-purple-300"}),"Neural Model Settings"]})}),t.jsx(rr,{children:t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"model-type",className:"text-white mb-2",children:"Neural Model Type"}),t.jsxs(Tt,{value:l.neuralModelType||"standard",onValueChange:e=>c("neuralModelType",e),className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"standard",id:"model-standard"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"model-standard",className:"text-sm font-medium text-white",children:"Standard"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Balanced performance and quality"})]})]}),t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"lightweight",id:"model-lightweight"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"model-lightweight",className:"text-sm font-medium text-white",children:"Lightweight"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Faster but lower quality"})]})]}),t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"enhanced",id:"model-enhanced"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"model-enhanced",className:"text-sm font-medium text-white",children:"Enhanced"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Higher quality but much slower"})]})]})]})]}),t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"expression-intensity",className:"text-white flex items-center",children:["Expression Intensity",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Controls the intensity of facial expressions. Higher values make expressions more pronounced."})})]})})]}),t.jsx(Lt,{id:"expression-intensity",value:[l.expressionIntensity||1],min:.5,max:2,step:.1,onValueChange:([e])=>c("expressionIntensity",e)}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[t.jsx("span",{children:"Subtle"}),t.jsx("span",{children:(null==(r=l.expressionIntensity)?void 0:r.toFixed(1))||"1.0"}),t.jsx("span",{children:"Exaggerated"})]})]})]})})]}),t.jsxs(sr,{value:"enhancement-options",className:"border-b border-purple-300/30",children:[t.jsx(ar,{className:"text-sm text-white hover:no-underline",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(ke,{className:"h-4 w-4 mr-2 text-purple-300"}),"Enhancement Options"]})}),t.jsx(rr,{children:t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"enable-post-processing",checked:l.enablePostProcessing||!1,onCheckedChange:e=>c("enablePostProcessing",e)}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"enable-post-processing",className:"text-white",children:"Enable Post-Processing"}),t.jsx("p",{className:"text-xs text-gray-400",children:"Apply additional enhancement filters"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"preserve-background",checked:l.preserveBackground||!0,onCheckedChange:e=>c("preserveBackground",e)}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"preserve-background",className:"text-white",children:"Preserve Background"}),t.jsx("p",{className:"text-xs text-gray-400",children:"Keep original background intact"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"enable-super-resolution",checked:l.enableSuperResolution||!1,onCheckedChange:e=>c("enableSuperResolution",e)}),t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"enable-super-resolution",className:"text-white flex items-center",children:["Super Resolution",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Uses AI to enhance the resolution of output videos. Significantly increases processing time."})})]})})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Enhance output resolution using AI"})]})]}),l.enableSuperResolution&&t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"upscale-factor",className:"text-white mb-2",children:"Upscale Factor"}),t.jsxs(Tt,{value:(null==(i=l.upscaleFactor)?void 0:i.toString())||"2",onValueChange:e=>c("upscaleFactor",parseInt(e)),className:"flex space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Ot,{value:"2",id:"upscale-2x"}),t.jsx(_t,{htmlFor:"upscale-2x",className:"text-sm text-white",children:"2x"})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Ot,{value:"4",id:"upscale-4x"}),t.jsx(_t,{htmlFor:"upscale-4x",className:"text-sm text-white",children:"4x"})]})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Higher values need more VRAM"})]})]})})]}),t.jsxs(sr,{value:"advanced-settings",className:"border-b border-purple-300/30",children:[t.jsx(ar,{className:"text-sm text-white hover:no-underline",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(_e,{className:"h-4 w-4 mr-2 text-purple-300"}),"Advanced Options"]})}),t.jsx(rr,{children:t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsxs("div",{children:[t.jsxs(_t,{htmlFor:"batch-size",className:"text-white flex items-center",children:["Batch Size",t.jsx(it,{children:t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:t.jsx(ge,{className:"h-3.5 w-3.5 ml-1 text-gray-400 cursor-help"})}),t.jsx(ot,{side:"right",className:"bg-slate-800 border-slate-700 text-white",children:t.jsx("p",{className:"text-xs max-w-[200px]",children:"Number of frames processed simultaneously. Higher values need more VRAM but can be faster."})})]})})]}),t.jsx(Lt,{id:"batch-size",value:[l.batchSize||4],min:1,max:16,step:1,onValueChange:([e])=>c("batchSize",e)}),t.jsx("div",{className:"text-xs text-white mt-1 text-right",children:l.batchSize||4})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"gpu-acceleration",className:"text-white mb-2",children:"GPU Acceleration Level"}),t.jsxs(Tt,{value:l.gpuAcceleration||"auto",onValueChange:e=>c("gpuAcceleration",e),className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"auto",id:"gpu-auto"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"gpu-auto",className:"text-sm font-medium text-white",children:"Auto"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Automatically detect best settings"})]})]}),t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"balanced",id:"gpu-balanced"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"gpu-balanced",className:"text-sm font-medium text-white",children:"Balanced"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Balance GPU memory and speed"})]})]}),t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"max",id:"gpu-max"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"gpu-max",className:"text-sm font-medium text-white",children:"Maximum"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Use maximum GPU resources"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"precision",className:"text-white mb-2",children:"Computation Precision"}),t.jsxs(Tt,{value:l.precision||"fp16",onValueChange:e=>c("precision",e),className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"fp32",id:"precision-fp32"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"precision-fp32",className:"text-sm font-medium text-white",children:"FP32"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Full precision (slower, more accurate)"})]})]}),t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-white/5 text-white",children:[t.jsx(Ot,{value:"fp16",id:"precision-fp16"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"precision-fp16",className:"text-sm font-medium text-white",children:"FP16"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Half precision (faster, less VRAM)"})]})]})]})]})]})})]}),t.jsxs(sr,{value:"audio-settings",className:"border-b border-purple-300/30",children:[t.jsx(ar,{className:"text-sm text-white hover:no-underline",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Le,{className:"h-4 w-4 mr-2 text-purple-300"}),"Audio Processing"]})}),t.jsx(rr,{children:t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"enable-audio-preprocessing",checked:l.enableAudioPreprocessing||!0,onCheckedChange:e=>c("enableAudioPreprocessing",e)}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"enable-audio-preprocessing",className:"text-white",children:"Audio Preprocessing"}),t.jsx("p",{className:"text-xs text-gray-400",children:"Clean and normalize audio before processing"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"enable-audio-normalization",checked:l.enableAudioNormalization||!0,onCheckedChange:e=>c("enableAudioNormalization",e)}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"enable-audio-normalization",className:"text-white",children:"Audio Normalization"}),t.jsx("p",{className:"text-xs text-gray-400",children:"Standardize volume levels"})]})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"audio-sample-rate",className:"text-white mb-2",children:"Audio Sample Rate"}),t.jsxs(nr,{value:(null==(n=l.audioSampleRate)?void 0:n.toString())||"48000",onValueChange:e=>c("audioSampleRate",parseInt(e)),children:[t.jsx(or,{className:"bg-slate-700 border-slate-600 text-white",children:t.jsx(lr,{placeholder:"Select sample rate"})}),t.jsxs(ur,{className:"bg-slate-800 border-slate-700 text-white",children:[t.jsx(mr,{value:"16000",children:"16 kHz (Lower quality)"}),t.jsx(mr,{value:"24000",children:"24 kHz (Standard)"}),t.jsx(mr,{value:"44100",children:"44.1 kHz (CD quality)"}),t.jsx(mr,{value:"48000",children:"48 kHz (Professional)"})]})]})]})]})})]})]}),t.jsx("div",{className:"text-xs text-purple-200/70 mt-4 p-2 bg-purple-900/20 rounded",children:t.jsxs("p",{className:"flex items-start",children:[t.jsx(ge,{className:"h-3.5 w-3.5 mr-1 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"GeneFace provides high-quality neural rendering. For best results, use high-quality images with good lighting and clear faces."})]})})]})},pr=({onTTSToggle:s,onFileSelected:a,onLipsyncSettingsChange:r,onTrainVoiceRequest:i,onTaskIdUpdate:n,taskIds:l})=>{const{toast:o}=ut(),{currentEngine:c,engineStatus:d,engines:u,isEngineReady:m,changeEngine:h}=mt(),[p,x]=e.useState(!1),f=e.useRef(null),g=e.useRef(null),j=e.useRef(null),[v,b]=e.useState(0),[y,w]=e.useState(0),[N,k]=e.useState(!1),[S,C]=e.useState(!1),[E,R]=e.useState(!1),[F,T]=e.useState(!1),[O,A]=e.useState(!1),[_,L]=e.useState(!1),[z,P]=e.useState(!1),[U,D]=e.useState(!1),[B,V]=e.useState({modelName:"",epochs:200,batchSize:4,sampleRate:4e4,rvcVersion:"v2"}),[I,M]=e.useState({algorithm:c,quality:70,useBeatAnalysis:!1,faceDetectionThreshold:.5,useLyricAlignment:!1});e.useEffect((()=>{M((e=>({...e,algorithm:c})))}),[c]);const q=()=>{L(!0)},$=async e=>{try{const t={...I,...e};M(t),r&&r(t),await ht.updateSettings(t),o({title:"Settings Updated",description:"Lipsync settings have been saved successfully."})}catch(t){o({title:"Settings Update Failed",description:"Failed to update lipsync settings. Please try again.",variant:"destructive"})}},H=async()=>{var e;if(B.modelName)if((null==(e=j.current)?void 0:e.files)&&0!==j.current.files.length)try{const e=new FormData;e.append("model_name",B.modelName),e.append("epochs",B.epochs.toString()),e.append("batch_size",B.batchSize.toString()),e.append("sample_rate",B.sampleRate.toString()),e.append("rvc_version",B.rvcVersion),Array.from(j.current.files).forEach((t=>{e.append("training_files",t)}));await Qa(e);o({title:"Voice Training Started",description:`Training job for "${B.modelName}" has been initiated. This may take several hours.`}),L(!1),i&&i()}catch(t){o({title:"Training Error",description:"Failed to start voice training.",variant:"destructive"})}else o({title:"Training Files Required",description:"Please select audio files for voice training.",variant:"destructive"});else o({title:"Model Name Required",description:"Please enter a name for your voice model.",variant:"destructive"})};return t.jsxs(t.Fragment,{children:[t.jsx("header",{className:"fixed top-0 w-full border-b border-purple-500 bg-[#7C3AED] backdrop-blur-sm z-10",children:t.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(be,{className:"h-8 w-8 mr-2 text-white"}),t.jsx("span",{className:"text-xl font-semibold text-white",children:"CloneSync"})]}),t.jsx("div",{className:"flex-1 flex justify-center",children:t.jsx(xt,{children:t.jsxs(ft,{children:[t.jsxs(gt,{children:[t.jsxs(vt,{className:"text-white bg-purple-800/50 hover:bg-purple-800/70 border border-purple-300/30",children:[t.jsx(ze,{className:"h-5 w-5 mr-2 fill-none text-white stroke-white"}),t.jsx("span",{className:"text-white font-medium",children:"Media"})]}),t.jsx(bt,{className:"bg-slate-800 text-white border border-slate-700 shadow-lg z-50","data-bs-theme":"dark",children:t.jsxs("div",{className:"w-[280px] p-4",children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Open Media Files"}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs("div",{onClick:()=>{g.current&&(g.current.setAttribute("data-purpose","media-player"),g.current.click())},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[t.jsx(ve,{className:"h-5 w-5 text-purple-300"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-white",children:"Open Video"}),t.jsx("div",{className:"text-xs text-gray-300",children:"Load a video file for playback"})]})]}),t.jsxs("div",{onClick:()=>{f.current&&(f.current.setAttribute("data-purpose","media-player"),f.current.click())},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[t.jsx(Pe,{className:"h-5 w-5 text-purple-300"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-white",children:"Open Audio"}),t.jsx("div",{className:"text-xs text-gray-300",children:"Load an audio file for playback"})]})]}),t.jsx("div",{className:"my-1 border-t border-slate-700"}),t.jsx("div",{className:"text-xs text-slate-400 p-2",children:"Files loaded here will be available for playback in the media player without being processed for lip-syncing."})]})]})})]}),t.jsxs(gt,{children:[t.jsxs(vt,{className:"text-white bg-purple-800/50 hover:bg-purple-800/70 border border-purple-300/30",children:[t.jsx(Ue,{className:"h-5 w-5 mr-2 fill-none text-white stroke-white"}),t.jsx("span",{className:"text-white font-medium",children:"Lipsync Engines"})]}),t.jsx(bt,{className:"bg-slate-800 text-white border border-slate-700 shadow-lg z-50","data-bs-theme":"dark",children:t.jsxs("div",{className:"w-[320px] p-4",children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white flex items-center justify-between",children:"Select Lipsync Engine"}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.keys(Xa).map((e=>t.jsx(Ya,{engineId:e,isSelected:I.algorithm===e,onClick:()=>{return $({algorithm:t=e}),h(t),void o({title:"Lipsync Engine Changed",description:`Switched to ${t.charAt(0).toUpperCase()+t.slice(1)} lipsync engine.`});var t},showDetails:!1},e)))}),t.jsx("div",{className:"my-1 border-t border-slate-700"}),t.jsxs("div",{className:"text-xs text-slate-400 p-2",children:["Current Engine: ",t.jsx("span",{className:"text-purple-300 font-semibold",children:(W=I.algorithm,(null==(G=Xa[W])?void 0:G.name)||W.charAt(0).toUpperCase()+W.slice(1))}),t.jsx("br",{}),"Status: ",m?t.jsx("span",{className:"text-green-400",children:"Ready"}):t.jsx("span",{className:"text-yellow-400",children:"Loading..."})]})]})})]}),t.jsxs(gt,{children:[t.jsxs(vt,{onClick:()=>{},className:"text-white bg-purple-800/50 hover:bg-purple-800/70 border border-purple-300/30",children:[t.jsx(we,{className:"h-5 w-5 mr-2 fill-none text-white stroke-white"}),t.jsx("span",{className:"text-white font-medium",children:"Settings"})]}),t.jsx(bt,{className:"bg-slate-800 text-white border border-slate-700 shadow-lg z-50","data-bs-theme":"dark",children:t.jsxs("div",{className:"w-[400px] p-4",children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Advanced Lipsync Settings"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{onClick:()=>{k(!0)},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[t.jsx(Oe,{className:"h-5 w-5 text-purple-300"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-white",children:"Quality Settings"}),t.jsx("div",{className:"text-xs text-gray-300",children:"Adjust quality and performance"})]})]}),t.jsxs("div",{onClick:()=>{C(!0)},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[t.jsx(ve,{className:"h-5 w-5 text-purple-300"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-white",children:"Lipsync Algorithm"}),t.jsx("div",{className:"text-xs text-gray-300",children:"Choose Wav2Lip, SadTalker, or GeneFace"})]})]}),t.jsxs("div",{onClick:()=>{R(!0)},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[t.jsx(De,{className:"h-5 w-5 text-purple-300"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-white",children:"Beat Analysis"}),t.jsx("div",{className:"text-xs text-gray-300",children:"Sync speech to audio beats"})]})]}),t.jsxs("div",{onClick:()=>{T(!0)},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[t.jsx(Be,{className:"h-5 w-5 text-purple-300"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-white",children:"Face Detection"}),t.jsx("div",{className:"text-xs text-gray-300",children:"Tune face detection settings"})]})]}),"sadtalker"===I.algorithm&&t.jsxs("div",{onClick:()=>P(!0),className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white ml-4 border-l-2 border-purple-500",children:[t.jsx(ye,{className:"h-5 w-5 text-purple-300"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-white",children:"SadTalker Options"}),t.jsx("div",{className:"text-xs text-gray-300",children:"Advanced 3D face controls"})]})]}),t.jsxs("div",{onClick:q,className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white ml-4 border-l-2 border-purple-300",children:[t.jsx(Ve,{className:"h-5 w-5 text-purple-300"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-white",children:"Train Voice"}),t.jsx("div",{className:"text-xs text-gray-300",children:"Create custom voice models"})]})]}),t.jsxs("div",{onClick:()=>{A(!0)},className:"cursor-pointer flex items-center space-x-2 rounded-md p-2 hover:bg-slate-700 text-white",children:[t.jsx(Ie,{className:"h-5 w-5 text-purple-300"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-white",children:"Lyric Alignment"}),t.jsx("div",{className:"text-xs text-gray-300",children:"Fine-tune word synchronization"})]})]})]})]})})]}),t.jsx(gt,{children:t.jsxs(vt,{onClick:()=>{x(!p),s()},className:p?"bg-purple-800 text-white":"text-white bg-purple-800/30 hover:bg-purple-800/50",children:[t.jsx(Me,{className:"h-5 w-5 mr-2 fill-none text-white stroke-white"}),t.jsx("span",{className:"text-white",children:"TTS"})]})}),t.jsxs(gt,{children:[t.jsxs(vt,{onClick:q,className:"text-white bg-purple-800/30 hover:bg-purple-800/50",children:[t.jsx(Ve,{className:"h-5 w-5 mr-2 fill-none text-white stroke-white"}),t.jsx("span",{className:"text-white",children:"Train Voice"})]}),t.jsxs(bt,{className:"bg-slate-800 text-white border border-slate-700 shadow-lg z-50","data-bs-theme":"dark",children:[t.jsxs("div",{className:"w-[280px] p-4",children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Quick Voice Training"}),t.jsxs("div",{className:"space-y-3 text-white",children:[t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"dropdown-voice-model-name",className:"block mb-1 text-sm font-medium text-white",children:"Voice Model Name"}),t.jsx("input",{type:"text",id:"dropdown-voice-model-name",value:B.modelName,onChange:e=>V({...B,modelName:e.target.value}),className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",placeholder:"MyCustomVoice"})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"voice-model-type",className:"text-white",children:"Voice Model Type"}),t.jsxs("select",{id:"voice-model-type",className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",children:[t.jsx("option",{value:"rvc",children:"RVC (All Engines)"}),t.jsx("option",{value:"wav2lip_compatible",children:"Wav2Lip Compatible"}),t.jsx("option",{value:"sadtalker_compatible",children:"SadTalker Compatible"}),t.jsx("option",{value:"geneface_compatible",children:"GeneFace Compatible"})]}),t.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"RVC works with all lip sync engines"})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"voice-rvc-version",className:"text-white",children:"RVC Version"}),t.jsxs("select",{id:"voice-rvc-version",value:B.rvcVersion,onChange:e=>V({...B,rvcVersion:e.target.value}),className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",children:[t.jsx("option",{value:"v1",children:"v1"}),t.jsx("option",{value:"v2",children:"v2 (Recommended)"})]})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"voice-epochs",children:"Training Epochs"}),t.jsx("input",{type:"number",id:"voice-epochs",value:B.epochs,onChange:e=>V({...B,epochs:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",min:50,max:1e3}),t.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Recommended: 200+ for best quality"})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"voice-batch-size",children:"Batch Size"}),t.jsx("input",{type:"number",id:"voice-batch-size",value:B.batchSize,onChange:e=>V({...B,batchSize:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",min:1,max:16}),t.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Lower for less GPU memory"})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"voice-sample-rate",children:"Sample Rate"}),t.jsxs("select",{id:"voice-sample-rate",value:B.sampleRate,onChange:e=>V({...B,sampleRate:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-600 p-2 mt-1 bg-slate-700 text-white",children:[t.jsx("option",{value:32e3,children:"32 kHz"}),t.jsx("option",{value:4e4,children:"40 kHz (Recommended)"}),t.jsx("option",{value:48e3,children:"48 kHz"})]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx(_t,{htmlFor:"voice-training-files",children:"Training Audio Files"}),t.jsx("div",{className:"mt-1 flex gap-2",children:t.jsx(dt,{variant:"outline",onClick:()=>{var e;return null==(e=j.current)?void 0:e.click()},className:"w-full",children:"Select Audio Files"})}),t.jsx("p",{className:"text-xs text-gray-300 mt-1",children:"Select 10+ minutes of clean voice recordings. More training data results in better quality."})]})]})]}),t.jsxs(Et,{children:[t.jsx(dt,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),t.jsx(dt,{onClick:H,children:"Start Training"})]})]})]})]})})}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx(Za,{status:d})})]})}),t.jsx(wt,{open:N,onOpenChange:k,children:t.jsxs(St,{className:"sm:max-w-[425px]","data-bs-theme":"dark",children:[t.jsxs(Ct,{children:[t.jsx(Rt,{children:"Lipsync Quality Settings"}),t.jsx(Ft,{children:"Adjust the quality settings for the lipsync algorithm."})]}),t.jsxs("div",{className:"py-4",children:[t.jsxs(_t,{htmlFor:"quality-slider",children:["Quality: ",I.quality]}),t.jsx(Lt,{id:"quality-slider",min:0,max:100,step:1,defaultValue:[I.quality],onValueChange:e=>{$({quality:e[0]})}}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower values decrease processing time but also reduce quality. Higher values increase quality but may slow down processing."})]}),t.jsx(Et,{children:t.jsx(dt,{onClick:()=>{$({quality:I.quality}),k(!1)},children:"Save Changes"})})]})}),t.jsx(wt,{open:S,onOpenChange:C,children:t.jsxs(St,{className:"sm:max-w-[425px]","data-bs-theme":"dark",children:[t.jsxs(Ct,{children:[t.jsx(Rt,{children:"Lipsync Algorithm"}),t.jsx(Ft,{children:"Select the algorithm used for lipsyncing."})]}),t.jsx("div",{className:"py-4",children:t.jsxs(Tt,{value:I.algorithm,onValueChange:e=>{$({algorithm:e})},className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-slate-700 text-white",children:[t.jsx(Ot,{value:"wav2lip",id:"algorithm-wav2lip"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"algorithm-wav2lip",className:"text-sm font-medium text-white",children:"Wav2Lip"}),t.jsx("p",{className:"text-xs text-gray-300",children:"Standard lip sync with good quality"})]})]}),t.jsxs("div",{className:"flex items-start space-x-2 p-2 rounded-md hover:bg-slate-700 text-white",children:[t.jsx(Ot,{value:"sadtalker",id:"algorithm-sadtalker"}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"algorithm-sadtalker",className:"text-sm font-medium text-white",children:"SadTalker"}),t.jsx("p",{className:"text-xs text-gray-300",children:"More expressive facial animations"})]})]})]})}),t.jsx(Et,{children:t.jsx(dt,{onClick:()=>{$({algorithm:I.algorithm}),C(!1)},children:"Save Changes"})})]})}),t.jsx(wt,{open:E,onOpenChange:R,children:t.jsxs(St,{className:"sm:max-w-[425px]","data-bs-theme":"dark",children:[t.jsxs(Ct,{children:[t.jsx(Rt,{children:"Beat Analysis Settings"}),t.jsx(Ft,{children:"Configure audio beat analysis for improved lip synchronization timing."})]}),t.jsx("div",{className:"py-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"beat-analysis",checked:I.useBeatAnalysis,onCheckedChange:e=>{$({useBeatAnalysis:e})}}),t.jsx(_t,{htmlFor:"beat-analysis",children:"Enable Beat Analysis"})]})}),t.jsx(Et,{children:t.jsx(dt,{onClick:()=>{$({useBeatAnalysis:I.useBeatAnalysis}),R(!1)},children:"Save Changes"})})]})}),t.jsx(wt,{open:F,onOpenChange:T,children:t.jsxs(St,{className:"sm:max-w-[425px]","data-bs-theme":"dark",children:[t.jsxs(Ct,{children:[t.jsx(Rt,{children:"Face Detection Settings"}),t.jsx(Ft,{children:"Adjust face detection sensitivity and threshold."})]}),t.jsx("div",{className:"py-4",children:t.jsxs("div",{className:"flex flex-col space-y-4",children:[t.jsxs(_t,{htmlFor:"face-threshold",children:["Detection Threshold: ",I.faceDetectionThreshold.toFixed(2)]}),t.jsx(Lt,{id:"face-threshold",min:.1,max:1,step:.05,defaultValue:[I.faceDetectionThreshold],onValueChange:e=>{$({faceDetectionThreshold:e[0]})}}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower values (0.1-0.4) detect more faces but may include false positives. Higher values (0.6-1.0) only detect very clear faces."})]})}),t.jsx(Et,{children:t.jsx(dt,{onClick:()=>{$({faceDetectionThreshold:I.faceDetectionThreshold}),T(!1)},children:"Save Changes"})})]})}),t.jsx(wt,{open:O,onOpenChange:A,children:t.jsxs(St,{className:"sm:max-w-[425px]","data-bs-theme":"dark",children:[t.jsxs(Ct,{children:[t.jsx(Rt,{children:"Lyric Alignment Settings"}),t.jsx(Ft,{children:"Configure word-level synchronization for improved lip movements."})]}),t.jsxs("div",{className:"py-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(zt,{id:"lyric-alignment",checked:I.useLyricAlignment,onCheckedChange:e=>{$({useLyricAlignment:e})}}),t.jsx(_t,{htmlFor:"lyric-alignment",children:"Enable Lyric Alignment"})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Lyric alignment provides more precise word-by-word lip synchronization. Best for close-up videos where precision is critical."})]}),t.jsx(Et,{children:t.jsx(dt,{onClick:()=>{$({useLyricAlignment:I.useLyricAlignment}),A(!1)},children:"Save Changes"})})]})}),t.jsx(wt,{open:z,onOpenChange:P,children:t.jsxs(St,{className:"sm:max-w-[550px]","data-bs-theme":"dark",children:[t.jsxs(Ct,{children:[t.jsx(Rt,{children:"SadTalker Advanced Settings"}),t.jsx(Ft,{children:"Configure 3D-aware talking head animation settings."})]}),t.jsx("div",{className:"py-4 max-h-[70vh] overflow-y-auto pr-2",children:t.jsx(ir,{})}),t.jsx(Et,{children:t.jsx(dt,{onClick:()=>P(!1),children:"Close"})})]})}),t.jsx(wt,{open:_,onOpenChange:L,children:t.jsxs(St,{className:"sm:max-w-[500px]","data-bs-theme":"dark",children:[t.jsxs(Ct,{children:[t.jsx(Rt,{children:"Train Custom Voice Model"}),t.jsx(Ft,{children:"Create a new voice model for voice cloning. You'll need 10+ minutes of clean voice recordings."})]}),t.jsx("div",{className:"py-4 space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx(_t,{htmlFor:"voice-model-name",children:"Model Name"}),t.jsx("input",{type:"text",id:"voice-model-name",value:B.modelName,onChange:e=>V({...B,modelName:e.target.value}),className:"w-full rounded-md border border-slate-300 p-2 mt-1",placeholder:"MyCustomVoice"})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"voice-model-type",children:"Voice Model Type"}),t.jsxs("select",{id:"voice-model-type",className:"w-full rounded-md border border-slate-300 p-2 mt-1",children:[t.jsx("option",{value:"rvc",children:"RVC (All Engines)"}),t.jsx("option",{value:"wav2lip_compatible",children:"Wav2Lip Compatible"}),t.jsx("option",{value:"sadtalker_compatible",children:"SadTalker Compatible"}),t.jsx("option",{value:"geneface_compatible",children:"GeneFace Compatible"})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"RVC works with all lip sync engines"})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"voice-rvc-version",children:"RVC Version"}),t.jsxs("select",{id:"voice-rvc-version",value:B.rvcVersion,onChange:e=>V({...B,rvcVersion:e.target.value}),className:"w-full rounded-md border border-slate-300 p-2 mt-1",children:[t.jsx("option",{value:"v1",children:"v1"}),t.jsx("option",{value:"v2",children:"v2 (Recommended)"})]})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"voice-epochs",children:"Training Epochs"}),t.jsx("input",{type:"number",id:"voice-epochs",value:B.epochs,onChange:e=>V({...B,epochs:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-300 p-2 mt-1",min:50,max:1e3}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Recommended: 200+ for best quality"})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"voice-batch-size",children:"Batch Size"}),t.jsx("input",{type:"number",id:"voice-batch-size",value:B.batchSize,onChange:e=>V({...B,batchSize:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-300 p-2 mt-1",min:1,max:16}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Lower for less GPU memory"})]}),t.jsxs("div",{children:[t.jsx(_t,{htmlFor:"voice-sample-rate",children:"Sample Rate"}),t.jsxs("select",{id:"voice-sample-rate",value:B.sampleRate,onChange:e=>V({...B,sampleRate:parseInt(e.target.value)}),className:"w-full rounded-md border border-slate-300 p-2 mt-1",children:[t.jsx("option",{value:32e3,children:"32 kHz"}),t.jsx("option",{value:4e4,children:"40 kHz (Recommended)"}),t.jsx("option",{value:48e3,children:"48 kHz"})]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx(_t,{htmlFor:"voice-training-files",children:"Training Audio Files"}),t.jsx("div",{className:"mt-1 flex gap-2",children:t.jsx(dt,{variant:"outline",onClick:()=>{var e;return null==(e=j.current)?void 0:e.click()},className:"w-full",children:"Select Audio Files"})}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Select 10+ minutes of clean voice recordings. More training data results in better quality."})]})]})}),t.jsxs(Et,{children:[t.jsx(dt,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),t.jsx(dt,{onClick:H,children:"Start Training"})]})]})}),t.jsx(wt,{open:U,onOpenChange:D,children:t.jsxs(St,{className:"sm:max-w-[550px]","data-bs-theme":"dark",children:[t.jsxs(Ct,{children:[t.jsx(Rt,{children:"GeneFace Advanced Settings"}),t.jsx(Ft,{children:"Configure neural rendering settings for GeneFace."})]}),t.jsx("div",{className:"py-4 max-h-[70vh] overflow-y-auto pr-2",children:t.jsx(hr,{})}),t.jsx(Et,{children:t.jsx(dt,{onClick:()=>D(!1),children:"Close"})})]})}),t.jsx("input",{type:"file",ref:f,style:{display:"none"},onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(!s)return;const r=s.name,i=e.target.getAttribute("data-purpose")||"lip-sync";e.target.removeAttribute("data-purpose"),"media-player"===i?o({title:"Audio Loaded",description:`File "${r}" loaded for playback.`}):(b(0),Ga(pt("/api/v1/upload/audio"),s,(e=>b(e))).then((e=>{o({title:"Audio File Uploaded",description:`File "${r}" processed for lip-sync.`});const t=null==e?void 0:e.filename,s=null==e?void 0:e.task_id;t&&a?a("audio",t,r):o({title:"Processing Error",description:"Upload succeeded but failed to get file identifier.",variant:"destructive"}),s&&n&&n("audioTask",s),b(100)})).catch((e=>{o({title:"Upload Failed",description:`Failed to upload "${r}". ${(null==e?void 0:e.message)||"Unknown error"}`,variant:"destructive"}),b(0)}))),e.target.value=""},accept:"audio/*"}),t.jsx("input",{type:"file",ref:g,style:{display:"none"},onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(!s)return;const r=s.name,i=e.target.getAttribute("data-purpose")||"lip-sync";e.target.removeAttribute("data-purpose"),"media-player"===i?o({title:"Video Loaded",description:`File "${r}" loaded for playback.`}):(w(0),Ga(pt("/upload/video"),s,(e=>w(e))).then((e=>{o({title:"Video File Uploaded",description:`File "${r}" processed for lip-sync.`});const t=null==e?void 0:e.filename,s=null==e?void 0:e.task_id;t&&a?a("video",t,r):o({title:"Processing Error",description:"Upload succeeded but failed to get file identifier.",variant:"destructive"}),s&&n&&n("uploadTask",s),w(100)})).catch((e=>{o({title:"Upload Failed",description:`Failed to upload "${r}". ${(null==e?void 0:e.message)||"Unknown error"}`,variant:"destructive"}),w(0)}))),e.target.value=""},accept:"video/*"}),t.jsx("input",{type:"file",ref:j,style:{display:"none"},onChange:e=>{const t=e.target.files;t&&t.length>0&&o({title:"Voice Training Files Selected",description:`${t.length} files selected for voice training.`})},accept:"audio/*",multiple:!0})]});var W,G},xr=({onEditScript:s,videoFileIdentifier:a,audioFileIdentifier:r,videoOriginalName:i,audioOriginalName:n,currentVoiceModel:l,taskIds:o,onTaskIdUpdate:c,onFileSelected:d})=>{const{lipsyncSettings:u}=ct(),[m,h]=e.useState(0),[p,x]=e.useState(0),[f,g]=e.useState(0),[j,v]=e.useState(0),[b,y]=e.useState(0),[w,N]=e.useState(null),[k,S]=e.useState({uploadTask:null,voiceTask:null,audioTask:null,lipSyncTask:null}),C=o||k,E=(e,t)=>{S((s=>({...s,[e]:t}))),c&&c(e,t)},R=e.useRef(null),F=e.useRef(null),T=e.useRef(null),O=({icon:e,label:s,onClick:a,progress:r,disabled:i,className:n,tooltipContent:l})=>{const o=t.jsxs(dt,{onClick:a,className:`w-full flex gap-2 items-center justify-start bg-gray-800 hover:bg-gray-700 text-white border-gray-700 ${n||""}`,disabled:i,variant:"outline",children:[t.jsx(e,{className:"h-4 w-4"}),t.jsx("span",{children:s})]});return t.jsxs("div",{className:"w-full flex flex-col gap-2 mb-4",children:[l?t.jsxs(nt,{children:[t.jsx(lt,{asChild:!0,children:o}),t.jsx(ot,{children:l})]}):o,t.jsx("div",{className:"w-full bg-gray-800 rounded-full h-4 border border-purple-300/30",children:t.jsx("div",{className:`h-full rounded-full ${r&&r>0?"bg-purple-600":"bg-gray-700"} transition-all`,style:{width:`${r||0}%`},children:r&&r>0&&t.jsxs("span",{className:"block text-xs text-white text-center font-bold leading-4",children:[Math.round(r),"%"]})})})]})},A=a&&r?`Ready to lip sync ${i||"video"} with ${n||"audio"}?`:"Upload both a video file and an audio file to enable lip sync";return e.useEffect((()=>{if(w)if(w.startsWith("http"))N(w);else{const e=w.startsWith("/")?w:`/${w}`;N(e)}}),[w]),e.useEffect((()=>{}),[a,r]),t.jsxs("div",{className:"w-64 bg-[#1a1a2e] border-r border-gray-800 p-4 flex flex-col h-full",children:[t.jsx("h2",{className:"text-lg font-bold mb-6 text-white",children:"CloneSync"}),t.jsx("input",{type:"file",ref:R,onChange:async e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s){h(0);try{const e=await Ga("/upload/video",s,(e=>h(e)));e.task_id&&(E("uploadTask",e.task_id),Ja(e.task_id,(e=>h(e))).then((e=>{var t;rt({title:"Upload Complete",description:"Video upload and processing completed successfully."}),d&&(null==(t=null==e?void 0:e.data)?void 0:t.filename)&&d("video",e.data.filename,s.name)})).catch((e=>{})))}catch(a){}}},accept:"video/*",className:"hidden"}),t.jsx("input",{type:"file",ref:F,onChange:async e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s){x(0);try{const e=await Ga("/upload/voice",s,(e=>x(e)));e.task_id&&(E("voiceTask",e.task_id),Ja(e.task_id,(e=>x(e))).then((e=>{var t;rt({title:"Voice Model Ready",description:"Voice model was uploaded and processed successfully."}),d&&(null==(t=null==e?void 0:e.data)?void 0:t.filename)&&d("voice",e.data.filename,s.name)})).catch((e=>{})))}catch(a){}}},accept:".zip,.pth,audio/*",className:"hidden"}),t.jsx("input",{type:"file",ref:T,onChange:async e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s){g(0);try{const e=await Ga("/api/v1/upload/audio",s,(e=>g(e)));e.task_id&&(E("audioTask",e.task_id),Ja(e.task_id,(e=>g(e))).then((e=>{var t;rt({title:"Audio Ready",description:"Audio was uploaded and processed successfully."}),d&&(null==(t=null==e?void 0:e.data)?void 0:t.filename)&&d("audio",e.data.filename,s.name)})).catch((e=>{})))}catch(a){}}},accept:"audio/*",className:"hidden"}),t.jsxs("div",{className:"mt-12",children:[t.jsx(O,{icon:qe,label:"Upload Video",onClick:()=>{R.current&&R.current.click()},progress:m,tooltipContent:"Select a video file for processing"}),t.jsx(O,{icon:Ve,label:"Upload Voice Model",onClick:()=>{F.current&&F.current.click()},progress:p,tooltipContent:"Upload training data or a pre-trained model (.pth/.zip)"}),t.jsx(O,{icon:$e,label:"Upload Audio",onClick:()=>{T.current&&T.current.click()},progress:f,tooltipContent:"Select an audio file for TTS or lip sync source"}),t.jsx(O,{icon:He,label:"Edit Script",onClick:()=>{s&&s()},progress:b,tooltipContent:"Edit the text script for TTS generation"}),t.jsx(O,{icon:We,label:"Start Lip Sync",onClick:async()=>{var e;if(a&&r){v(0),N(null);try{const t=u.algorithm||"wav2lip",s={};if("wav2lip"===t){const e=[u.pads.top??0,u.pads.bottom??0,u.pads.left??0,u.pads.right??0],t=Number.isFinite(u.resizeFactor)?u.resizeFactor:1;s.wav2lip={pads:e,resize_factor:t,nosmooth:u.nosmooth,batch_size:Number.isFinite(u.batchSize)?u.batchSize:void 0,volume_amplification:Number.isFinite(u.volumeAmplification)?u.volumeAmplification:void 0,delay_start_time:Number.isFinite(u.delayStartTime)?u.delayStartTime:void 0,mask_dilate:Number.isFinite(u.maskDilate)?u.maskDilate:void 0,mask_blur:Number.isFinite(u.maskBlur)?u.maskBlur:void 0,use_enhancer:u.useEnhancer,use_background_enhancer:u.useBackgroundEnhancer,preprocess_mode:u.preprocessMode,enable_face_swap:u.enableFaceSwap,face_swap_image:u.faceSwapImage,zero_mouth:u.zeroMouth,show_frame_number:u.showFrameNumber,enable_keyframe_manager:u.enableKeyframeManager,auto_mask:u.autoMask,driving_video:u.drivingVideo,driving_avatar:u.drivingAvatar,enable_comfy_ui:u.enableComfyUI}}else"sadtalker"===t?s.sadtalker={still_mode:u.stillMode,use_enhancer:u.useEnhancer,preprocess_mode:u.preprocessMode,pose_style:Number.isFinite(u.poseStyle)?u.poseStyle:0,batch_size:Number.isFinite(u.batchSize)?u.batchSize:2,expression_scale:Number.isFinite(u.expressionScale)?u.expressionScale:1,ref_eyeblink:u.refEyeblink,ref_pose:u.refPose,face3d_vis:u.face3dVis,input_yaw:u.inputYaw,input_pitch:u.inputPitch,input_roll:u.inputRoll}:"geneface"===t&&(s.geneface={quality:null==(e=u.quality)?void 0:e.toString(),frame_rate:Number.isFinite(u.frameRate)?u.frameRate:void 0,expression_intensity:Number.isFinite(u.expressionIntensity)?u.expressionIntensity:void 0,upscale_factor:Number.isFinite(u.upscaleFactor)?u.upscaleFactor:void 0,audio_sample_rate:Number.isFinite(u.audioSampleRate)?u.audioSampleRate:void 0,use_high_quality_mode:u.useHighQualityMode,neural_model_type:u.neuralModelType,enable_post_processing:u.enablePostProcessing,preserve_background:u.preserveBackground,enable_super_resolution:u.enableSuperResolution,gpu_acceleration:u.gpuAcceleration,precision:u.precision,enable_audio_preprocessing:u.enableAudioPreprocessing,enable_audio_normalization:u.enableAudioNormalization});const i={engine:t,audio_blob_name:r,face_blob_name:a,options:s},n=async e=>{try{const t=await Ja(e,(()=>{}));return t&&t.data&&t.data.output_url?t.data.output_url:null}catch(t){return null}},l=await ht.start(i);if(!l||!l.task_id)throw new Error(l.error||"Failed to get task ID from lipsync start response");E("lipSyncTask",l.task_id),rt({title:"Lip Sync Started",description:`Task ${l.task_id} initiated for ${i.engine}.`}),Ja(l.task_id,(e=>v(e))).then((e=>{var t;rt({title:"Lip Sync Complete",description:"Processing completed successfully."}),(null==(t=null==e?void 0:e.data)?void 0:t.output_url)?N(e.data.output_url):n(l.task_id).then((e=>{e&&N(e)})).catch((e=>{}))})).catch((e=>{rt({title:"Lip Sync Failed",description:e instanceof Error?e.message:"Processing failed",variant:"destructive"})}))}catch(t){rt({title:"Lip Sync Failed",description:t instanceof Error?t.message:"Failed to start process",variant:"destructive"}),v(0)}}else rt({title:"Missing Files",description:"Backend identifiers for video and audio are missing. Ensure files were uploaded successfully.",variant:"destructive"})},progress:j,disabled:!a||!r,className:a&&r?"bg-purple-600 hover:bg-purple-700 text-white border-purple-700":void 0,tooltipContent:A}),t.jsx(O,{icon:Ge,label:"Download Result",onClick:()=>{if(w)window.open(w,"_blank");else if(C.lipSyncTask){rt({title:"Fetching Download Link",description:"Trying to retrieve the download URL..."});(async e=>{try{const t=await Ja(e,(()=>{}));return t&&t.data&&t.data.output_url?t.data.output_url:null}catch(t){return null}})(C.lipSyncTask).then((e=>{e?(N(e),window.open(e,"_blank")):rt({title:"Download Not Available",description:"The download URL is not available yet. The processing may still be in progress.",variant:"destructive"})})).catch((e=>{rt({title:"Download Error",description:"Failed to retrieve the download URL.",variant:"destructive"})}))}else rt({title:"No Download Available",description:"No completed lipsync task found to download.",variant:"destructive"})},disabled:j<100,tooltipContent:"Download the processed output file (available after completion)"})]})]})},fr=W,gr=e.forwardRef((({className:e,...s},a)=>t.jsx("textarea",{className:at("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s})));gr.displayName="Textarea";const jr=Q,vr=e.forwardRef((({className:e,...s},a)=>t.jsx(G,{ref:a,className:at("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s})));vr.displayName=G.displayName;const br=e.forwardRef((({className:e,...s},a)=>t.jsx(J,{ref:a,className:at("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s})));br.displayName=J.displayName;const yr=e.forwardRef((({className:e,...s},a)=>t.jsx(K,{ref:a,className:at("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s})));yr.displayName=K.displayName;const wr=le,Nr=oe;e.forwardRef((({className:e,inset:s,children:a,...r},i)=>t.jsxs(X,{ref:i,className:at("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[a,t.jsx(Je,{className:"ml-auto h-4 w-4"})]}))).displayName=X.displayName;e.forwardRef((({className:e,...s},a)=>t.jsx(Y,{ref:a,className:at("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}))).displayName=Y.displayName;const kr=e.forwardRef((({className:e,sideOffset:s=4,...a},r)=>t.jsx(Z,{children:t.jsx(ee,{ref:r,sideOffset:s,className:at("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})})));kr.displayName=ee.displayName;const Sr=e.forwardRef((({className:e,inset:s,...a},r)=>t.jsx(te,{ref:r,className:at("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...a})));Sr.displayName=te.displayName;e.forwardRef((({className:e,children:s,checked:a,...r},i)=>t.jsxs(se,{ref:i,className:at("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(ae,{children:t.jsx(Te,{className:"h-4 w-4"})})}),s]}))).displayName=se.displayName;e.forwardRef((({className:e,children:s,...a},r)=>t.jsxs(re,{ref:r,className:at("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(ae,{children:t.jsx(fe,{className:"h-2 w-2 fill-current"})})}),s]}))).displayName=re.displayName;e.forwardRef((({className:e,inset:s,...a},r)=>t.jsx(ie,{ref:r,className:at("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...a}))).displayName=ie.displayName;e.forwardRef((({className:e,...s},a)=>t.jsx(ne,{ref:a,className:at("-mx-1 my-1 h-px bg-muted",e),...s}))).displayName=ne.displayName;const Cr=ue,Er=me,Rr=e.forwardRef((({className:e,align:s="center",sideOffset:a=4,...r},i)=>t.jsx(ce,{children:t.jsx(de,{ref:i,align:s,sideOffset:a,className:at("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})})));Rr.displayName=de.displayName;const Fr=({showTTS:s=!1,videoFile:a=null,audioFile:r=null})=>{const{toast:i}=ut(),[n,l]=e.useState(80),[o,c]=e.useState(!1),[d,u]=e.useState(0),[m,h]=e.useState(!1),[p,x]=e.useState(!1),[f,g]=e.useState("1080p"),[j,v]=e.useState("Normal"),[b,y]=e.useState(""),[w,N]=e.useState(""),[k,S]=e.useState(!1),[C,E]=e.useState(0),[R,F]=e.useState(!1),[T,O]=e.useState(""),[A,_]=e.useState("lyrics"),[L,z]=e.useState("default"),[P,U]=e.useState([]),D=e.useRef(null);e.useState(!1);const[B,V]=e.useState(""),[I,M]=e.useState(""),[q,$]=e.useState(""),[H,W]=e.useState(""),G=e.useRef(null),J=e.useRef(null),K=e.useRef(null);e.useEffect((()=>{U([{name:"Default Voice",id:"default"},{name:"Voice Model 1",id:"voice1"},{name:"Voice Model 2",id:"voice2"}])}),[]),e.useEffect((()=>{if(a){const e=URL.createObjectURL(a);return y(e),()=>{URL.revokeObjectURL(e)}}}),[a]),e.useEffect((()=>{if(r){const e=URL.createObjectURL(r);return N(e),S(!0),E(0),i({title:"Audio Loaded",description:"Use the sync controls if you notice audio-video sync issues."}),()=>{URL.revokeObjectURL(e)}}S(!1)}),[r]),e.useEffect((()=>(G.current&&(G.current.volume=n/100,G.current.muted=m,G.current.addEventListener("click",Q),G.current.addEventListener("waiting",(()=>{})),G.current.addEventListener("stalled",(()=>{}))),J.current&&(J.current.volume=n/100,J.current.muted=m,J.current.addEventListener("waiting",(()=>{})),J.current.addEventListener("stalled",(()=>{}))),()=>{G.current&&(G.current.removeEventListener("click",Q),G.current.removeEventListener("waiting",(()=>{})),G.current.removeEventListener("stalled",(()=>{}))),J.current&&(J.current.removeEventListener("waiting",(()=>{})),J.current.removeEventListener("stalled",(()=>{})))})),[n,m]);const Q=()=>{if((new(window.AudioContext||window.webkitAudioContext)).resume().then((()=>{})).catch((e=>{})),G.current){const e=G.current.play();void 0!==e&&e.then((()=>{var e;null==(e=G.current)||e.pause()})).catch((e=>{}))}if(J.current&&k){const e=J.current.play();void 0!==e&&e.then((()=>{var e;null==(e=J.current)||e.pause()})).catch((e=>{}))}};e.useEffect((()=>{const e=G.current,t=J.current;if(!e||!t||!k)return;const s=()=>{if(o){const s=e.currentTime-C/1e3;Math.abs(t.currentTime-s)>.05&&(t.currentTime=s),t.play().catch((e=>{}))}else t.pause()};e.addEventListener("play",s),e.addEventListener("pause",(()=>t.pause())),e.addEventListener("seeking",(()=>{t.currentTime=e.currentTime-C/1e3}));const a=setInterval((()=>{if(o){const s=e.currentTime-C/1e3;Math.abs(t.currentTime-s)>.2&&(t.currentTime=s)}}),5e3);return()=>{e.removeEventListener("play",s),e.removeEventListener("pause",(()=>t.pause())),e.removeEventListener("seeking",(()=>{t.currentTime=e.currentTime-C/1e3})),clearInterval(a)}}),[o,k,C]);const X=()=>{G.current&&(o?(G.current.pause(),J.current&&k&&J.current.pause()):(G.current.play().catch((e=>{alert("Unable to play the video. Please make sure a video file has been loaded.")})),J.current&&k&&(J.current.currentTime=G.current.currentTime-C/1e3,J.current.play().catch((e=>{})))),c(!o))},Y=()=>{const e=!m;h(e),G.current&&(G.current.muted=e),J.current&&(J.current.muted=e)},Z=()=>{K.current&&(document.fullscreenElement?document.exitFullscreen():K.current.requestFullscreen().catch((e=>{})),x(!p))},ee=e=>{g(e)},te=e=>{v(e);let t=1;switch(e){case"2x":t=2;break;case"1.75x":t=1.75;break;case"1.5x":t=1.5;break;case"Normal":default:t=1;break;case"0.75x":t=.75;break;case"0.5x":t=.5}G.current&&(G.current.playbackRate=t),J.current&&k&&(J.current.playbackRate=t)},se=e=>{O(e.target.value)},ae=e=>{V(e.target.value)},re=e=>{M(e.target.value)},ie=()=>{("lyrics"===A?I:T).trim()?"default"!==L&&L?alert("Voice generation started! This would typically send to your backend API."):alert("Please select a voice model before generating."):alert("Please enter some text before generating voice.")},ne=()=>{const e={songTitle:q,artist:H,originalLyrics:B,parodyLyrics:I,script:T},t=JSON.stringify(e,null,2),s=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download=`${q||"script"}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),alert("Script saved successfully!")},le=()=>{r?I.trim()?alert("Lyrics alignment started! This would analyze audio and align text with it."):alert("Please enter some lyrics before attempting alignment."):alert("Please load an audio file first before aligning lyrics.")};e.useEffect((()=>{if(!G.current)return;const e=()=>{if(G.current){const e=G.current.currentTime/G.current.duration*100;u(e)}};return G.current.addEventListener("timeupdate",e),()=>{G.current&&G.current.removeEventListener("timeupdate",e)}}),[]),e.useEffect((()=>{const e=()=>{x(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}}),[]);const oe=()=>{D.current&&D.current.click()},ce=e=>{const t=e.target.files;if(!t||0===t.length)return;const s={name:t[0].name.replace(/\.[^/.]+$/,""),id:`custom_${Date.now()}`};U((e=>[...e,s])),z(s.id)};e.useEffect((()=>{const e=J.current;if(!e)return;const t=t=>{let s="Failed to load or play the audio.";switch(e.error?e.error.code:-1){case 1:s="Audio playback was aborted.";break;case 2:s="A network error caused the audio to fail.";break;case 3:s="The audio could not be decoded. Try a different file format.";break;case 4:s="The audio format is not supported by your browser."}i({title:"Audio Error",description:s+" Please try a different file.",variant:"destructive"}),S(!1)};return e.addEventListener("error",t),e.addEventListener("canplay",(()=>{})),e.addEventListener("progress",(()=>{const t=e.buffered;if(t.length>0){t.end(t.length-1),e.duration}})),()=>{e.removeEventListener("error",t),e.removeEventListener("canplay",(()=>{})),e.removeEventListener("progress",(()=>{}))}}),[]);const de=e=>{E(e),o&&J.current&&G.current&&(J.current.currentTime=G.current.currentTime-e/1e3)},ue=()=>{F(!R)};return s?s?t.jsx("div",{className:"w-full flex justify-center items-center flex-col",children:t.jsxs("div",{className:"w-full max-w-[1280px] bg-gradient-to-b from-purple-900/80 to-indigo-900/80 backdrop-blur-sm rounded-lg overflow-hidden p-6 border border-purple-400/20 shadow-[0_8px_32px_rgba(0,0,0,0.3)]",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Script & Lyrics Editor"}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(dt,{onClick:ne,className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[t.jsx(et,{size:16}),"Save"]})})]}),t.jsxs(jr,{defaultValue:A,className:"w-full",onValueChange:_,children:[t.jsxs(vr,{className:"mb-4 bg-purple-950/50",children:[t.jsxs(br,{value:"lyrics",className:"data-[state=active]:bg-purple-800",children:[t.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Parody Lyrics"]}),t.jsxs(br,{value:"script",className:"data-[state=active]:bg-purple-800",children:[t.jsx(tt,{className:"h-4 w-4 mr-2"}),"Full Script"]})]}),t.jsxs(yr,{value:"lyrics",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-300",children:"Song Title"}),t.jsx(er,{value:q,onChange:e=>$(e.target.value),placeholder:"Enter song title",className:"bg-white/10 border-white/20 text-white"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-300",children:"Artist"}),t.jsx(er,{value:H,onChange:e=>W(e.target.value),placeholder:"Enter artist name",className:"bg-white/10 border-white/20 text-white"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-300",children:"Original Lyrics"}),t.jsx(gr,{placeholder:"Paste the original song lyrics here...",value:B,onChange:ae,className:"h-[300px] bg-white/10 border-white/20 text-white resize-none"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-300",children:"Parody Lyrics"}),t.jsx(gr,{placeholder:"Type your parody lyrics here...",value:I,onChange:re,className:"h-[300px] bg-white/10 border-white/20 text-white resize-none"})]})]})]}),t.jsx(yr,{value:"script",className:"space-y-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-300",children:"Full Script"}),t.jsx(gr,{placeholder:"Type your full script here for text-to-speech conversion...",value:T,onChange:se,className:"w-full h-[400px] bg-white/10 border-white/20 text-white resize-none"})]})})]}),t.jsxs("div",{className:"mt-6 border-t border-white/20 pt-4 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("label",{className:"text-sm text-gray-300 whitespace-nowrap",children:"Voice Model"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(nr,{value:L,onValueChange:z,children:[t.jsx(or,{className:"w-[180px] bg-white/10 border-white/20 text-white",children:t.jsx(lr,{placeholder:"Select voice"})}),t.jsxs(ur,{children:[t.jsx(mr,{value:"default",children:"Default Voice"}),t.jsx(mr,{value:"eminem",children:"Eminem"}),t.jsx(mr,{value:"morgan",children:"Morgan Freeman"}),t.jsx(mr,{value:"taylor",children:"Taylor Swift"}),t.jsx(mr,{value:"snoop",children:"Snoop Dogg"}),P.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(mr,{disabled:!0,value:"custom-header",children:t.jsx("span",{className:"font-medium",children:"Custom Voice Models"})}),P.map((e=>t.jsx(mr,{value:e.id,children:e.name},e.id)))]})]})]}),t.jsx(dt,{variant:"outline",size:"icon",className:"border-white/20 hover:bg-purple-700 text-white",onClick:oe,title:"Upload custom voice model",children:t.jsx(qe,{className:"h-4 w-4"})})]})]}),t.jsxs(dt,{variant:"outline",className:"border-white/20 hover:bg-purple-700 text-white flex items-center gap-2",onClick:le,children:[t.jsx(st,{size:16}),"Align Lyrics"]})]}),t.jsxs(dt,{onClick:ie,className:"bg-purple-600 hover:bg-purple-700 text-white flex items-center gap-2",children:[t.jsx(Ve,{size:16}),"Generate Voice"]})]}),t.jsx("input",{type:"file",ref:D,className:"hidden",accept:".pth,.bin,.model",onChange:ce})]})}):null:t.jsx("div",{className:"w-full flex justify-center items-center",ref:K,children:t.jsx("div",{className:"w-full max-w-[1280px] bg-black/90 backdrop-blur-sm rounded-lg overflow-hidden border border-white/10 shadow-[0_8px_32px_rgba(0,0,0,0.1)]",children:t.jsx(fr,{ratio:16/9,className:"bg-black",children:t.jsxs("div",{className:"relative w-full h-full",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("video",{ref:G,className:"w-full h-full object-contain",controlsList:"nodownload",disablePictureInPicture:!0,onClick:X,src:b,children:!b&&t.jsx("div",{className:"text-white text-center p-4",children:"No video loaded. Use the Media menu to open a video file."})}),w&&t.jsx("audio",{ref:J,src:w,preload:"auto",crossOrigin:"anonymous",className:"hidden"}),k&&t.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 px-3 py-1 rounded-full flex items-center gap-2 text-white text-sm",children:[t.jsx(Pe,{className:"w-4 h-4"}),t.jsx("span",{className:"mr-1",children:"External Audio"}),0!==C&&t.jsxs("span",{className:"text-xs opacity-75",children:["(",C>0?"+":"",C,"ms)"]})]})]}),!b&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900",children:t.jsxs("div",{className:"text-white text-center p-4",children:[t.jsx("p",{className:"mb-4 text-xl",children:"No video loaded"}),t.jsx("p",{className:"text-gray-400",children:"Use the Media menu to open a video file"})]})}),b&&!o&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(dt,{variant:"ghost",size:"icon",className:"text-white bg-black/30 hover:bg-black/50 rounded-full w-16 h-16",onClick:X,children:t.jsx(Ke,{className:"w-8 h-8"})})}),b&&t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent pt-12",children:[k&&R&&t.jsxs("div",{className:"px-4 pb-2 flex items-center gap-4",children:[t.jsx("span",{className:"text-white text-xs",children:"Audio Sync:"}),t.jsxs("div",{className:"flex items-center gap-2 bg-black/50 p-2 rounded",children:[t.jsx(dt,{variant:"ghost",size:"sm",className:"text-white h-6 px-2 rounded-sm hover:bg-white/20",onClick:()=>de(C-50),children:"-50ms"}),t.jsx(dt,{variant:"ghost",size:"sm",className:"text-white h-6 px-2 rounded-sm hover:bg-white/20",onClick:()=>de(C-10),children:"-10ms"}),t.jsxs("div",{className:"text-white text-xs w-14 text-center",children:[C,"ms"]}),t.jsx(dt,{variant:"ghost",size:"sm",className:"text-white h-6 px-2 rounded-sm hover:bg-white/20",onClick:()=>de(C+10),children:"+10ms"}),t.jsx(dt,{variant:"ghost",size:"sm",className:"text-white h-6 px-2 rounded-sm hover:bg-white/20",onClick:()=>de(C+50),children:"+50ms"}),t.jsx(dt,{variant:"ghost",size:"sm",className:"text-white h-6 px-2 rounded-sm hover:bg-white/20",onClick:()=>de(0),children:"Reset"})]})]}),t.jsxs("div",{className:"h-12 flex items-center px-4 gap-4 text-white",children:[t.jsx(dt,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full",onClick:X,children:o?t.jsx(Qe,{className:"w-5 h-5"}):t.jsx(Ke,{className:"w-5 h-5"})}),t.jsx("div",{className:"flex-1 h-1 bg-gray-600 rounded-full cursor-pointer",onClick:e=>{if(G.current){const t=e.currentTarget,s=e.nativeEvent.offsetX/t.offsetWidth;u(100*s),G.current.currentTime=s*G.current.duration,J.current&&k&&(J.current.currentTime=G.current.currentTime-C/1e3)}},children:t.jsx("div",{className:"h-full bg-red-600 rounded-full",style:{width:`${d}%`}})}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(Cr,{children:[t.jsx(Er,{asChild:!0,children:t.jsx(dt,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full",onClick:Y,children:m?t.jsx(Xe,{className:"w-5 h-5"}):t.jsx(Ye,{className:"w-5 h-5"})})}),t.jsx(Rr,{side:"top",className:"w-[120px] p-3",children:t.jsx(Lt,{value:[m?0:n],max:100,step:1,className:"h-24",orientation:"vertical",onValueChange:e=>(e=>{l(e);const t=e/100;G.current&&(G.current.volume=t),J.current&&(J.current.volume=t),h(0===e)})(e[0])})})]}),k&&t.jsx(dt,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full "+(R?"bg-white/20":""),onClick:ue,title:"Audio Sync Controls",children:t.jsx(Pe,{className:"w-5 h-5"})}),t.jsxs(wr,{children:[t.jsx(Nr,{asChild:!0,children:t.jsx(dt,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full",children:t.jsx(we,{className:"w-5 h-5"})})}),t.jsxs(kr,{className:"w-56",children:[k&&t.jsxs(t.Fragment,{children:[t.jsx(Sr,{children:t.jsx("span",{className:"font-medium",children:"Audio Sync"})}),t.jsx(Sr,{onClick:()=>de(C-250),children:"Delay -250ms"}),t.jsx(Sr,{onClick:()=>de(C-100),children:"Delay -100ms"}),t.jsx(Sr,{onClick:()=>de(0),children:"Reset Sync (0ms)"}),t.jsx(Sr,{onClick:()=>de(C+100),children:"Delay +100ms"}),t.jsx(Sr,{onClick:()=>de(C+250),children:"Delay +250ms"})]}),t.jsx(Sr,{children:t.jsx("span",{className:"font-medium",children:"Quality"})}),t.jsxs(Sr,{onClick:()=>ee("1080p"),children:["1080p ","1080p"===f&&""]}),t.jsxs(Sr,{onClick:()=>ee("720p"),children:["720p ","720p"===f&&""]}),t.jsxs(Sr,{onClick:()=>ee("480p"),children:["480p ","480p"===f&&""]}),t.jsxs(Sr,{onClick:()=>ee("360p"),children:["360p ","360p"===f&&""]}),t.jsx(Sr,{children:t.jsx("span",{className:"font-medium",children:"Playback Speed"})}),t.jsxs(Sr,{onClick:()=>te("2x"),children:["2x ","2x"===j&&""]}),t.jsxs(Sr,{onClick:()=>te("1.75x"),children:["1.75x ","1.75x"===j&&""]}),t.jsxs(Sr,{onClick:()=>te("1.5x"),children:["1.5x ","1.5x"===j&&""]}),t.jsxs(Sr,{onClick:()=>te("Normal"),children:["Normal ","Normal"===j&&""]}),t.jsxs(Sr,{onClick:()=>te("0.75x"),children:["0.75x ","0.75x"===j&&""]}),t.jsxs(Sr,{onClick:()=>te("0.5x"),children:["0.5x ","0.5x"===j&&""]})]})]}),t.jsx(dt,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 rounded-full",onClick:Z,children:p?t.jsx(Ze,{className:"w-5 h-5"}):t.jsx(Re,{className:"w-5 h-5"})})]})]})]})]})})})})},Tr="undefined"!=typeof window&&(window.location.hostname.endsWith(".storage.googleapis.com")||window.location.hostname.endsWith(".googleusercontent.com")),Or=({title:e="Running in Viewer Mode",message:s="Some features may be limited when viewing from Google Cloud Storage.",showApiInfo:a=!0})=>Tr?t.jsxs("div",{className:"w-full p-4 mb-4 border border-yellow-200 rounded-md bg-yellow-50 dark:border-yellow-900 dark:bg-yellow-950",children:[t.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200",children:e}),t.jsx("p",{className:"mt-1 text-sm text-yellow-700 dark:text-yellow-300",children:s}),a&&t.jsx("p",{className:"mt-2 text-xs text-yellow-600 dark:text-yellow-400",children:"To enable full functionality, please run the application locally or deploy with proper API access."})]}):null,Ar=()=>{const{toast:s}=ut(),[a,r]=e.useState({videoFileIdentifier:null,audioFileIdentifier:null,videoOriginalName:null,audioOriginalName:null,currentVoiceModel:null,scriptDialogOpen:!1,scriptText:localStorage.getItem("currentScriptText")||"Enter your script here...",taskIds:{uploadTask:null,audioTask:null,voiceTask:null,lipSyncTask:null},showTTS:!1}),i=e.useCallback(((e,t,s)=>{"video"===e?r((e=>({...e,videoFileIdentifier:t,videoOriginalName:s||t}))):"audio"===e&&r((e=>({...e,audioFileIdentifier:t,audioOriginalName:s||t})))}),[]),n=e.useCallback((()=>{r((e=>({...e,showTTS:!e.showTTS})))}),[]),l=e.useCallback(((e,t)=>{r((s=>({...s,taskIds:{...s.taskIds,[e]:t}})))}),[]);return t.jsxs("div",{className:"h-screen overflow-hidden bg-gradient-to-b from-[#1E1B4B] to-[#7E22CE] flex flex-col",children:[t.jsx(pr,{onTTSToggle:n,onFileSelected:i,onTaskIdUpdate:l,taskIds:a.taskIds}),t.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[t.jsx(xr,{onEditScript:()=>{r((e=>({...e,scriptDialogOpen:!0})))},videoFileIdentifier:a.videoFileIdentifier,audioFileIdentifier:a.audioFileIdentifier,videoOriginalName:a.videoOriginalName,audioOriginalName:a.audioOriginalName,currentVoiceModel:a.currentVoiceModel,onTaskIdUpdate:l,taskIds:a.taskIds}),t.jsxs("main",{className:"flex-1 overflow-auto p-6 pt-12",children:[t.jsx(Or,{title:"Cloud Storage Viewer Mode",message:"You're viewing this app from Cloud Storage. API interactions are limited and some features won't work."}),t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsx(Fr,{showTTS:a.showTTS,videoFileIdentifier:a.videoFileIdentifier,audioFileIdentifier:a.audioFileIdentifier})})]})]}),t.jsx(wt,{open:a.scriptDialogOpen,onOpenChange:e=>r((t=>({...t,scriptDialogOpen:e}))),children:t.jsxs(St,{className:"sm:max-w-[600px]",children:[t.jsxs(Ct,{children:[t.jsx(Rt,{children:"Edit Script"}),t.jsx(Ft,{children:"Enter the script for your voice clone. This text will be used for audio generation."})]}),t.jsx("div",{className:"grid gap-4 py-4",children:t.jsx(gr,{value:a.scriptText,onChange:e=>r((t=>({...t,scriptText:e.target.value}))),placeholder:"Enter your script here...",className:"min-h-[200px]"})}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(dt,{variant:"outline",onClick:()=>r((e=>({...e,scriptDialogOpen:!1}))),children:"Cancel"}),t.jsx(dt,{onClick:()=>{localStorage.setItem("currentScriptText",a.scriptText),r((e=>({...e,scriptDialogOpen:!1}))),s({title:"Script Saved",description:"Your script has been saved successfully."})},children:"Save Changes"})]})]})})]})};export{Ar as default};
